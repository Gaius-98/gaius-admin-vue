import{u as y,U as S,av as w,aw as B,a2 as k,o as T,ab as _,a4 as D}from"./index-Dcy1bkDX.js";import{t as N,B as z,D as A,g as I,m as W,_ as c,c as E,E as R,d as H,i as M,e as O,aS as j,u as L,h as U,j as Z,k as b,l as h,I as F,b1 as $,aO as C,Z as G}from"./index-D-AsqWGq.js";function eo(){const e=N({});let o=null;const n=y();return z(()=>{o=n.value.subscribe(t=>{e.value=t})}),A(()=>{n.value.unsubscribe(o)}),e}const V=e=>{const{componentCls:o,popoverBg:n,popoverColor:t,width:a,fontWeightStrong:l,popoverPadding:s,boxShadowSecondary:d,colorTextHeading:u,borderRadiusLG:g,zIndexPopup:p,marginXS:v,colorBgElevated:r}=e;return[{[o]:c(c({},E(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":r,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${o}-content`]:{position:"relative"},[`${o}-inner`]:{backgroundColor:n,backgroundClip:"padding-box",borderRadius:g,boxShadow:d,padding:s},[`${o}-title`]:{minWidth:a,marginBottom:v,color:u,fontWeight:l},[`${o}-inner-content`]:{color:t}})},w(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${o}-pure`]:{position:"relative",maxWidth:"none",[`${o}-content`]:{display:"inline-block"}}}]},X=e=>{const{componentCls:o}=e;return{[o]:B.map(n=>{const t=e[`${n}-6`];return{[`&${o}-${n}`]:{"--antd-arrow-background-color":t,[`${o}-inner`]:{backgroundColor:t},[`${o}-arrow`]:{background:"transparent"}}}})}},q=e=>{const{componentCls:o,lineWidth:n,lineType:t,colorSplit:a,paddingSM:l,controlHeight:s,fontSize:d,lineHeight:u,padding:g}=e,p=s-Math.round(d*u),v=p/2,r=p/2-n,i=g;return{[o]:{[`${o}-inner`]:{padding:0},[`${o}-title`]:{margin:0,padding:`${v}px ${i}px ${r}px`,borderBottom:`${n}px ${t} ${a}`},[`${o}-inner-content`]:{padding:`${l}px ${i}px`}}}},J=I("Popover",e=>{const{colorBgElevated:o,colorText:n,wireframe:t}=e,a=W(e,{popoverBg:o,popoverColor:n,popoverPadding:12});return[V(a),X(a),t&&q(a),S(a,"zoom-big")]},e=>{let{zIndexPopupBase:o}=e;return{zIndexPopup:o+30,width:177}}),Q=()=>c(c({},D()),{content:$(),title:$()}),Y=H({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:M(Q(),c(c({},k()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,o){let{expose:n,slots:t,attrs:a}=o;const l=O();j(e.visible===void 0),n({getPopupDomNode:()=>{var r,i;return(i=(r=l.value)===null||r===void 0?void 0:r.getPopupDomNode)===null||i===void 0?void 0:i.call(r)}});const{prefixCls:s,configProvider:d}=L("popover",e),[u,g]=J(s),p=U(()=>d.getPrefixCls()),v=()=>{var r,i;const{title:m=C((r=t.title)===null||r===void 0?void 0:r.call(t)),content:f=C((i=t.content)===null||i===void 0?void 0:i.call(t))}=e,x=!!(Array.isArray(m)?m.length:m),P=!!(Array.isArray(f)?f.length:m);return!x&&!P?null:b(G,null,[x&&b("div",{class:`${s.value}-title`},[m]),b("div",{class:`${s.value}-inner-content`},[f])])};return()=>{const r=Z(e.overlayClassName,g.value);return u(b(_,h(h(h({},T(e,["title","content"])),a),{},{prefixCls:s.value,ref:l,overlayClassName:r,transitionName:F(p.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:v,default:t.default}))}}}),to=R(Y);export{to as P,eo as u};
