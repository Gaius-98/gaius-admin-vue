import{g as B,j as E,k as G,z as R,A as j,c as z,h as H,f as J,p as M,H as T,r as U,G as W,E as O,i as Q,F as X}from"./ant-design-vue-DGPmw3tN.js";import{d as D,L as C,R as a,a2 as t,a3 as d,c as x,u as o,m as Y,S as I,W as F,F as b,r as w,o as Z,ad as s,J as oo,a6 as eo,a7 as f}from"./@vue-DmVhU8xE.js";import{v as ro}from"./uuid-CQkTLCs1.js";import{c as ao}from"./common-Czo2HA9U.js";import{g,s as P}from"./index-Bunu3xEZ.js";const no=D({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(u){const _=u,{schema:n,formData:r}=C(_);return(l,p)=>{const v=B;return a(),t(v,{bodyStyle:{padding:0,"min-height":"40px"},title:o(n).controlProp.title,bordered:o(n).controlProp.bordered,hoverable:o(n).controlProp.hoverable},{default:d(()=>[x(L,{schema:o(n).controlProp.children,formData:o(r)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),to=D({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(u){const _=u,{schema:n,formData:r}=C(_),l=Y(()=>24/n.value.controlProp.colNumber);return(p,v)=>{const i=E,m=G;return a(),t(m,{gutter:o(n).controlProp.gutter},{default:d(()=>[(a(!0),I(b,null,F(o(n).controlProp.children,(y,h)=>(a(),t(i,{class:"gutter-col",span:l.value,key:h},{default:d(()=>[x(L,{schema:y,formData:o(r)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),co=D({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(u){const _=u,{schema:n,formData:r}=C(_),l=w(""),p=w(ro());return n.value.controlProp.defaultExpanded.value&&(l.value=p.value),(v,i)=>{const m=R,y=j;return a(),t(y,{activeKey:l.value,"onUpdate:activeKey":i[0]||(i[0]=h=>l.value=h),bordered:o(n).controlProp.bordered,ghost:o(n).controlProp.ghost},{default:d(()=>[(a(),t(m,{key:p.value,header:o(n).controlProp.title,showArrow:o(n).controlProp.showArrow},{default:d(()=>[x(L,{schema:o(n).controlProp.children,formData:o(r)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),L=D({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(u){const _=u,{schema:n,formData:r}=C(_),l=w([]),p=w({});(()=>{n.value.map(m=>{"dict"in m.controlProp&&l.value.push(m.controlProp.dict)})})();const i=()=>{l.value.length>0&&ao.getDict(l.value).then(m=>{const{code:y,data:h,msg:K}=m;y==200&&l.value.map(k=>{p.value[k]=h[k]})})};return Z(()=>{i()}),(m,y)=>{const h=z,K=H,k=J,S=M,V=T,A=U,N=W,$=O,q=Q;return a(!0),I(b,null,F(o(n),e=>(a(),I(b,null,[["grid","card","collapse","divider"].includes(e.type)?(a(),I(b,{key:0},[e.type=="card"?(a(),t(no,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="grid"?(a(),t(to,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="collapse"?(a(),t(co,{key:e.name,schema:e,formData:o(r)},null,8,["schema","formData"])):s("",!0),e.type=="divider"?(a(),t(h,f({key:3,ref_for:!0},e.controlProp,{key:e.name}),{default:d(()=>[oo(eo(e.controlProp.title),1)]),_:2},1040)):s("",!0)],64)):(a(),t(q,{label:e.formItemProp.label,name:e.formItemProp.name,key:e.name,required:e.formItemProp.required},{default:d(()=>[e.type=="input"?(a(),t(K,f({key:0,value:o(g)(o(r),e.formItemProp.name),onChange:c=>o(P)(o(r),e.formItemProp.name,c.target.value),ref_for:!0},e.controlProp),null,16,["value","onChange"])):s("",!0),e.type=="select"?(a(),t(k,f({key:1,value:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(P)(o(r),e.formItemProp.name,c)}),null,16,["value","options","onChange"])):s("",!0),e.type=="radio"?(a(),t(S,f({key:2,value:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(P)(o(r),e.formItemProp.name,c.target.value)}),null,16,["value","options","onChange"])):s("",!0),e.type=="date"?(a(),t(V,f({key:3,value:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{onChange:c=>o(P)(o(r),e.formItemProp.name,c)}),null,16,["value","onChange"])):s("",!0),e.type=="number"?(a(),t(A,f({key:4,value:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{onChange:c=>o(P)(o(r),e.formItemProp.name,c)}),null,16,["value","onChange"])):s("",!0),e.type=="checkbox"?(a(),t(N,f({key:5,value:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(P)(o(r),e.formItemProp.name,c)}),null,16,["value","options","onChange"])):s("",!0),e.type=="switch"?(a(),t($,f({key:6,checked:o(g)(o(r),e.formItemProp.name),ref_for:!0},e.controlProp,{onChange:c=>o(P)(o(r),e.formItemProp.name,c)}),null,16,["checked","onChange"])):s("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),mo=D({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(u){const _=u,{schema:n,formData:r}=C(_);return(l,p)=>{const v=X;return a(),t(v,f({model:o(r)},o(n).formConfig),{default:d(()=>[x(L,{formData:o(r),schema:o(n).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{mo as _};
