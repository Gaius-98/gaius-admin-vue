import{a5 as y,ag as C,d as S,R as k,S as x,a1 as L,bl as V,e as B,B as I,N as q,O as N,a3 as r,a6 as R,W as _,k as t,V as s,aQ as F,bm as M,a0 as T,aK as U,aL as j,Q as H}from"./index-DKz2Y_to.js";import{F as Q,I as A,_ as D,b as E,B as K}from"./index-Bcw6g2LH.js";const m={login:o=>y({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>C({baseURL:"/prod",method:"get",url:"/auth/captcha"})},O=o=>(U("data-v-cd3e3d8f"),o=o(),j(),o),P={class:"login"},W={class:"login-left"},$={class:"project-title"},z={class:"login-right"},G={class:"login-right-form"},J=O(()=>r("div",{class:"form-title"},"用户登录",-1)),X=["innerHTML"],Y=S({__name:"LoginView",setup(o){F(l=>({"200d0eaa":_(u).colorPrimary}));const h=k(),{themeCfg:u}=x(h),a=L({username:"",password:"",captcha:""}),f=V(),g=()=>{m.login(a).then(l=>{const{code:e,data:i}=l;e==200&&(M("admin-cookie",i),f.push("/home"))})},d=B(""),p=async()=>{const{data:l}=await m.getCaptcha();d.value=l};return I(()=>{p()}),(l,e)=>{const i=A,c=D,v=E,w=K,b=Q;return q(),N("div",P,[r("div",W,[r("div",$,R(_(u).projectName),1)]),r("div",z,[r("div",G,[J,t(b,{model:a,"label-col":{span:8},hideRequiredMark:"",onFinish:g},{default:s(()=>[t(c,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[t(i,{value:a.username,"onUpdate:value":e[0]||(e[0]=n=>a.username=n)},null,8,["value"])]),_:1}),t(c,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[t(v,{value:a.password,"onUpdate:value":e[1]||(e[1]=n=>a.password=n)},null,8,["value"])]),_:1}),t(c,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[t(i,{value:a.captcha,"onUpdate:value":e[3]||(e[3]=n=>a.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:d.value,onClick:e[2]||(e[2]=n=>p()),style:{height:"100%"}},null,8,X)]),_:1},8,["value"])]),_:1}),t(c,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[t(w,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[T(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),te=H(Y,[["__scopeId","data-v-cd3e3d8f"]]);export{te as default};
