import{u as S,j as D,_ as L,e as R}from"./index-BcO9VjBp.js";import{g as w,bi as $,s as x,u as B,L as N,ag as V,p as F,o as g,i as k,C as G,j as e,aw as K,bj as P,aD as O,q as I,P as p,X as U,a_ as J,R as d,bk as q,bl as z,aJ as A,l as c,bm as E,bn as X,w as l,J as v,a2 as H,ar as Q,as as W,bo as Y,bp as Z}from"./.pnpm-DjRYcvsk.js";const ee=w({__name:"LayoutMenu",setup(M){const u=$(),r=S(),{menuTree:m,themeCfg:_}=x(r),n=B("gaius-admin-menu-selected",[],sessionStorage),i=B("gaius-admin-menu-open",[],sessionStorage),b=N(()=>h(m.value)),h=o=>o.map(t=>{let s={key:(t==null?void 0:t.id)||"",...t};return s.icon&&(s.icon=V("span",{class:`iconfont icon-${s.icon}`})),t.children&&(s.children=h(t.children)),s}),f=(o,t)=>{for(let s=0;s<t.length;s++){const a=t[s];if(a.address===o)return a.id;if(a.children){const y=f(o,a.children);if(y)return y}}};F(()=>u.path,()=>{const o=f(u.path,m.value);o&&(n.value=[o])},{immediate:!0});const C=({item:o})=>{const{originItemValue:t}=o;D(t)};return(o,t)=>{const s=P;return g(),k(s,G(o.$attrs,{items:b.value,theme:e(_).menuTheme,onSelect:C,openKeys:e(i),"onUpdate:openKeys":t[0]||(t[0]=a=>K(i)?i.value=a:null),selectedKeys:e(n),"onUpdate:selectedKeys":t[1]||(t[1]=a=>K(n)?n.value=a:null),style:{height:"100%","overflow-y":"auto"},class:"gaius-menu"}),null,16,["items","theme","openKeys","selectedKeys"])}}}),_e=L(ee,[["__scopeId","data-v-a976a1d0"]]),te={class:"logo"},se=["src"],oe=w({__name:"LayoutLogo",setup(M){O(i=>({"2c5c8f8c":e(r).headerFontColor,32770384:e(r).headerBgColor}));const u=S(),{themeCfg:r,collapsed:m,systemSetting:_}=x(u),{onToggleCollapsed:n}=u;return(i,b)=>(g(),I("div",te,[p("img",{src:e(_).projectLogo,alt:""},null,8,se),U(p("span",{class:"title"},d(e(_).projectName),513),[[J,!e(m)]]),e(m)?(g(),k(e(q),{key:0,class:"trigger",onClick:e(n)},null,8,["onClick"])):(g(),k(e(z),{key:1,class:"trigger",onClick:e(n)},null,8,["onClick"]))]))}}),pe=L(oe,[["__scopeId","data-v-b6204024"]]),ne={class:"layout-opt"},ae={class:"layout-opt-userinfo"},ce=["src"],le={class:"layout-opt-userinfo-name"},ie=w({__name:"LayoutOpt",setup(M){O(C=>({45249393:e(_).headerFontColor,"734ae11d":e(_).headerBgColor}));const u=A(),r=S(),{local:m,themeCfg:_,userInfo:n}=x(r),{onOpenConfigDrawer:i,onToggleLocal:b}=r,h=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},f=()=>{R.remove(),u.push({path:"/login"})};return(C,o)=>{const t=H,s=Q,a=W,y=Y,T=Z;return g(),I("div",ne,[p("div",{class:"layout-opt-theme",onClick:o[0]||(o[0]=(...j)=>e(i)&&e(i)(...j))},[c(e(E))]),p("div",{class:"layout-opt-github",onClick:h},[c(e(X))]),p("div",ae,[c(T,{placement:"bottomRight"},{content:l(()=>[c(t,{onClick:f,block:""},{default:l(()=>[v(" 退出 ")]),_:1})]),title:l(()=>[c(a,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:l(()=>[c(s,{label:"姓名"},{default:l(()=>[v(d(e(n).name),1)]),_:1}),c(s,{label:"用户名"},{default:l(()=>[v(d(e(n).username),1)]),_:1}),c(s,{label:"邮箱"},{default:l(()=>[v(d(e(n).email),1)]),_:1})]),_:1})]),default:l(()=>[c(y,null,{icon:l(()=>[p("img",{src:e(n).avatar||"",alt:""},null,8,ce)]),_:1}),p("span",le,d(e(n).name),1)]),_:1})])])}}}),me=L(ie,[["__scopeId","data-v-71f96343"]]);export{pe as L,me as a,_e as b};
