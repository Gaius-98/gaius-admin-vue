import{a as Oe,d as qe}from"./tools-CFs_Yef4.js";import{e as N,a2 as ne,_ as u,B as be,G as et,F as tt,t as q,h as d,d as le,w as ie,v as ot,k as a,l as L,Z as pe,j as te,D as Ue,a$ as nt,P as it,g as at,aB as ae,m as Te,ac as lt,c as st,K as rt,u as Fe,I as xe,b0 as ut,a_ as ct,as as pt,N as R,O as K,V as x,a0 as Q,a4 as ye,W as _e,U as ce,a6 as vt,a1 as dt,a7 as $e,a5 as De,ar as mt,Q as ft}from"./index-Q_LEWK6E.js";import{d as gt,D as wt,g as Ct,i as ht,C as yt,_ as _t,a as xt}from"./index-By70sYAT.js";import{R as bt,a as St,Z as Pt,b as It,S as Ae,D as kt,E as Mt,c as Nt}from"./DownloadOutlined-CdDAfGur.js";import{R as Ot,S as $t,w as ze,M as oe,U as Dt,V as At,I as Lt,_ as jt,B as Et,F as Tt}from"./index-CWL3bAtR.js";import{g as zt,c as Ve,a as Rt,_ as Gt,b as Bt,d as Ut}from"./index-BKBXWhj-.js";import{u as Ye,K as Re,T as Ft}from"./index-CyGgqfN5.js";import{L as Vt}from"./FolderOutlined-DKfAmW6F.js";import{R as Yt}from"./RightOutlined-DC8EJ79U.js";import"./v4-CQkTLCs1.js";import"./index-Dk2B38mc.js";import"./PlusOutlined-mrNONVS0.js";import"./index-xbjEHnFq.js";var Xt="[object Number]";function Wt(e){return typeof e=="number"||Ot(e)&&$t(e)==Xt}function Zt(e){const n=N(null),i=ne(u({},e)),t=N([]),o=r=>{n.value===null&&(t.value=[],n.value=ze(()=>{let v;t.value.forEach(w=>{v=u(u({},v),w)}),u(i,v),n.value=null})),t.value.push(r)};return be(()=>{n.value&&ze.cancel(n.value)}),[i,o]}function Ge(e,n,i,t){const o=n+i,r=(i-t)/2;if(i>t){if(n>0)return{[e]:r};if(n<0&&o<t)return{[e]:-r}}else if(n<0||o>t)return{[e]:n<0?r:-r};return{}}function Ht(e,n,i,t){const{width:o,height:r}=zt();let v=null;return e<=o&&n<=r?v={x:0,y:0}:(e>o||n>r)&&(v=u(u({},Ge("x",i,e,o)),Ge("y",t,n,r))),v}var Kt=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(i[t[o]]=e[t[o]]);return i};const Be=Symbol("previewGroupContext"),je={provide:e=>{et(Be,e)},inject:()=>tt(Be,{isPreviewGroup:q(!1),previewUrls:d(()=>new Map),setPreviewUrls:()=>{},current:N(null),setCurrent:()=>{},setShowPreview:()=>{},setMousePosition:()=>{},registerImage:null,rootClassName:""})},Qt=()=>({previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:()=>({})}}),Jt=le({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:Qt(),setup(e,n){let{slots:i}=n;const t=d(()=>{const l={visible:void 0,onVisibleChange:()=>{},getContainer:void 0,current:0};return typeof e.preview=="object"?He(e.preview,l):l}),o=ne(new Map),r=N(),v=d(()=>t.value.visible),w=d(()=>t.value.getContainer),k=(l,M)=>{var I,D;(D=(I=t.value).onVisibleChange)===null||D===void 0||D.call(I,l,M)},[b,g]=Ye(!!v.value,{value:v,onChange:k}),C=N(null),j=d(()=>v.value!==void 0),h=d(()=>Array.from(o.keys())),S=d(()=>h.value[t.value.current]),P=d(()=>new Map(Array.from(o).filter(l=>{let[,{canPreview:M}]=l;return!!M}).map(l=>{let[M,{url:I}]=l;return[M,I]}))),c=function(l,M){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o.set(l,{url:M,canPreview:I})},m=l=>{r.value=l},y=l=>{C.value=l},E=function(l,M){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const D=()=>{o.delete(l)};return o.set(l,{url:M,canPreview:I}),D},_=l=>{l==null||l.stopPropagation(),g(!1),y(null)};return ie(S,l=>{m(l)},{immediate:!0,flush:"post"}),ot(()=>{b.value&&j.value&&m(S.value)},{flush:"post"}),je.provide({isPreviewGroup:q(!0),previewUrls:P,setPreviewUrls:c,current:r,setCurrent:m,setShowPreview:g,setMousePosition:y,registerImage:E}),()=>{const l=Kt(t.value,[]);return a(pe,null,[i.default&&i.default(),a(We,L(L({},l),{},{"ria-hidden":!b.value,visible:b.value,prefixCls:e.previewPrefixCls,onClose:_,mousePosition:C.value,src:P.value.get(r.value),icons:e.icons,getContainer:w.value}),null)])}}}),Xe=Jt,J={x:0,y:0},qt=u(u({},gt()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:()=>({})}}),We=le({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:qt,emits:["close","afterClose"],setup(e,n){let{emit:i,attrs:t}=n;const{rotateLeft:o,rotateRight:r,zoomIn:v,zoomOut:w,close:k,left:b,right:g,flipX:C,flipY:j}=ne(e.icons),h=q(1),S=q(0),P=ne({x:1,y:1}),[c,m]=Zt(J),y=()=>i("close"),E=q(),_=ne({originX:0,originY:0,deltaX:0,deltaY:0}),l=q(!1),M=je.inject(),{previewUrls:I,current:D,isPreviewGroup:W,setCurrent:O}=M,B=d(()=>I.value.size),U=d(()=>Array.from(I.value.keys())),$=d(()=>U.value.indexOf(D.value)),se=d(()=>W.value?I.value.get(D.value):e.src),G=d(()=>W.value&&B.value>1),f=q({wheelDirection:0}),A=()=>{h.value=1,S.value=0,P.x=1,P.y=1,m(J),i("afterClose")},p=s=>{s?h.value+=.5:h.value++,m(J)},F=s=>{h.value>1&&(s?h.value-=.5:h.value--),m(J)},T=()=>{S.value+=90},Z=()=>{S.value-=90},ve=()=>{P.x=-P.x},Se=()=>{P.y=-P.y},de=s=>{s.preventDefault(),s.stopPropagation(),$.value>0&&O(U.value[$.value-1])},me=s=>{s.preventDefault(),s.stopPropagation(),$.value<B.value-1&&O(U.value[$.value+1])},re=te({[`${e.prefixCls}-moving`]:l.value}),Pe=`${e.prefixCls}-operations-operation`,Ie=`${e.prefixCls}-operations-icon`,fe=[{icon:k,onClick:y,type:"close"},{icon:v,onClick:()=>p(),type:"zoomIn"},{icon:w,onClick:()=>F(),type:"zoomOut",disabled:d(()=>h.value===1)},{icon:r,onClick:T,type:"rotateRight"},{icon:o,onClick:Z,type:"rotateLeft"},{icon:C,onClick:ve,type:"flipX"},{icon:j,onClick:Se,type:"flipY"}],ge=()=>{if(e.visible&&l.value){const s=E.value.offsetWidth*h.value,z=E.value.offsetHeight*h.value,{left:V,top:H}=Ve(E.value),Y=S.value%180!==0;l.value=!1;const X=Ht(Y?z:s,Y?s:z,V,H);X&&m(u({},X))}},ke=s=>{s.button===0&&(s.preventDefault(),s.stopPropagation(),_.deltaX=s.pageX-c.x,_.deltaY=s.pageY-c.y,_.originX=c.x,_.originY=c.y,l.value=!0)},we=s=>{e.visible&&l.value&&m({x:s.pageX-_.deltaX,y:s.pageY-_.deltaY})},Me=s=>{if(!e.visible)return;s.preventDefault();const z=s.deltaY;f.value={wheelDirection:z}},Ne=s=>{!e.visible||!G.value||(s.preventDefault(),s.keyCode===Re.LEFT?$.value>0&&O(U.value[$.value-1]):s.keyCode===Re.RIGHT&&$.value<B.value-1&&O(U.value[$.value+1]))},Ce=()=>{e.visible&&(h.value!==1&&(h.value=1),(c.x!==J.x||c.y!==J.y)&&m(J))};let ue=()=>{};return be(()=>{ie([()=>e.visible,l],()=>{ue();let s,z;const V=oe(window,"mouseup",ge,!1),H=oe(window,"mousemove",we,!1),Y=oe(window,"wheel",Me,{passive:!1}),X=oe(window,"keydown",Ne,!1);try{window.top!==window.self&&(s=oe(window.top,"mouseup",ge,!1),z=oe(window.top,"mousemove",we,!1))}catch{}ue=()=>{V.remove(),H.remove(),Y.remove(),X.remove(),s&&s.remove(),z&&z.remove()}},{flush:"post",immediate:!0}),ie([f],()=>{const{wheelDirection:s}=f.value;s>0?F(!0):s<0&&p(!0)})}),Ue(()=>{ue()}),()=>{const{visible:s,prefixCls:z,rootClassName:V}=e;return a(wt,L(L({},t),{},{transitionName:e.transitionName,maskTransitionName:e.maskTransitionName,closable:!1,keyboard:!0,prefixCls:z,onClose:y,afterClose:A,visible:s,wrapClassName:re,rootClassName:V,getContainer:e.getContainer}),{default:()=>[a("div",{class:[`${e.prefixCls}-operations-wrapper`,V]},[a("ul",{class:`${e.prefixCls}-operations`},[fe.map(H=>{let{icon:Y,onClick:X,type:Ee,disabled:he}=H;return a("li",{class:te(Pe,{[`${e.prefixCls}-operations-operation-disabled`]:he&&(he==null?void 0:he.value)}),onClick:X,key:Ee},[nt(Y,{class:Ie})])})])]),a("div",{class:`${e.prefixCls}-img-wrapper`,style:{transform:`translate3d(${c.x}px, ${c.y}px, 0)`}},[a("img",{onMousedown:ke,onDblclick:Ce,ref:E,class:`${e.prefixCls}-img`,src:se.value,alt:e.alt,style:{transform:`scale3d(${P.x*h.value}, ${P.y*h.value}, 1) rotate(${S.value}deg)`}},null)]),G.value&&a("div",{class:te(`${e.prefixCls}-switch-left`,{[`${e.prefixCls}-switch-left-disabled`]:$.value<=0}),onClick:de},[b]),G.value&&a("div",{class:te(`${e.prefixCls}-switch-right`,{[`${e.prefixCls}-switch-right-disabled`]:$.value>=B.value-1}),onClick:me},[g])]})}}});var eo=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(i[t[o]]=e[t[o]]);return i};const Ze=()=>({src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:it.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}),He=(e,n)=>{const i=u({},e);return Object.keys(n).forEach(t=>{e[t]===void 0&&(i[t]=n[t])}),i};let to=0;const Ke=le({compatConfig:{MODE:3},name:"VcImage",inheritAttrs:!1,props:Ze(),emits:["click","error"],setup(e,n){let{attrs:i,slots:t,emit:o}=n;const r=d(()=>e.prefixCls),v=d(()=>`${r.value}-preview`),w=d(()=>{const p={visible:void 0,onVisibleChange:()=>{},getContainer:void 0};return typeof e.preview=="object"?He(e.preview,p):p}),k=d(()=>{var p;return(p=w.value.src)!==null&&p!==void 0?p:e.src}),b=d(()=>e.placeholder&&e.placeholder!==!0||t.placeholder),g=d(()=>w.value.visible),C=d(()=>w.value.getContainer),j=d(()=>g.value!==void 0),h=(p,F)=>{var T,Z;(Z=(T=w.value).onVisibleChange)===null||Z===void 0||Z.call(T,p,F)},[S,P]=Ye(!!g.value,{value:g,onChange:h}),c=N(b.value?"loading":"normal");ie(()=>e.src,()=>{c.value=b.value?"loading":"normal"});const m=N(null),y=d(()=>c.value==="error"),E=je.inject(),{isPreviewGroup:_,setCurrent:l,setShowPreview:M,setMousePosition:I,registerImage:D}=E,W=N(to++),O=d(()=>e.preview&&!y.value),B=()=>{c.value="normal"},U=p=>{c.value="error",o("error",p)},$=p=>{if(!j.value){const{left:F,top:T}=Ve(p.target);_.value?(l(W.value),I({x:F,y:T})):m.value={x:F,y:T}}_.value?M(!0):P(!0),o("click",p)},se=()=>{P(!1),j.value||(m.value=null)},G=N(null);ie(()=>G,()=>{c.value==="loading"&&G.value.complete&&(G.value.naturalWidth||G.value.naturalHeight)&&B()});let f=()=>{};be(()=>{ie([k,O],()=>{if(f(),!_.value)return()=>{};f=D(W.value,k.value,O.value),O.value||f()},{flush:"post",immediate:!0})}),Ue(()=>{f()});const A=p=>Wt(p)?p+"px":p;return()=>{const{prefixCls:p,wrapperClassName:F,fallback:T,src:Z,placeholder:ve,wrapperStyle:Se,rootClassName:de}=e,{width:me,height:re,crossorigin:Pe,decoding:Ie,alt:fe,sizes:ge,srcset:ke,usemap:we,class:Me,style:Ne}=i,Ce=w.value,{icons:ue,maskClassName:s}=Ce,z=eo(Ce,["icons","maskClassName"]),V=te(p,F,de,{[`${p}-error`]:y.value}),H=y.value&&T?T:k.value,Y={crossorigin:Pe,decoding:Ie,alt:fe,sizes:ge,srcset:ke,usemap:we,width:me,height:re,class:te(`${p}-img`,{[`${p}-img-placeholder`]:ve===!0},Me),style:u({height:A(re)},Ne)};return a(pe,null,[a("div",{class:V,onClick:O.value?$:X=>{o("click",X)},style:u({width:A(me),height:A(re)},Se)},[a("img",L(L(L({},Y),y.value&&T?{src:T}:{onLoad:B,onError:U,src:Z}),{},{ref:G}),null),c.value==="loading"&&a("div",{"aria-hidden":"true",class:`${p}-placeholder`},[ve||t.placeholder&&t.placeholder()]),t.previewMask&&O.value&&a("div",{class:[`${p}-mask`,s]},[t.previewMask()])]),!_.value&&O.value&&a(We,L(L({},z),{},{"aria-hidden":!S.value,visible:S.value,prefixCls:v.value,onClose:se,mousePosition:m.value,src:H,alt:fe,getContainer:C.value,icons:ue,rootClassName:de}),null)])}}});Ke.PreviewGroup=Xe;const oo=Ke,Le=e=>({position:e||"absolute",inset:0}),no=e=>{const{iconCls:n,motionDurationSlow:i,paddingXXS:t,marginXXS:o,prefixCls:r}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new ae("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${i}`,[`.${r}-mask-info`]:u(u({},lt),{padding:`0 ${t}px`,[n]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},io=e=>{const{previewCls:n,modalMaskBg:i,paddingSM:t,previewOperationColorDisabled:o,motionDurationSlow:r}=e,v=new ae(i).setAlpha(.1),w=v.clone().setAlpha(.2);return{[`${n}-operations`]:u(u({},st(e)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:e.previewOperationColor,listStyle:"none",background:v.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:t,padding:t,cursor:"pointer",transition:`all ${r}`,userSelect:"none","&:hover":{background:w.toRgbString()},"&-disabled":{color:o,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:e.previewOperationSize}})}},ao=e=>{const{modalMaskBg:n,iconCls:i,previewOperationColorDisabled:t,previewCls:o,zIndexPopup:r,motionDurationSlow:v}=e,w=new ae(n).setAlpha(.1),k=w.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:r+1,display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:-e.imagePreviewSwitchSize/2,color:e.previewOperationColor,background:w.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${v}`,pointerEvents:"auto",userSelect:"none","&:hover":{background:k.toRgbString()},"&-disabled":{"&, &:hover":{color:t,background:"transparent",cursor:"not-allowed",[`> ${i}`]:{cursor:"not-allowed"}}},[`> ${i}`]:{fontSize:e.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:e.marginSM},[`${o}-switch-right`]:{insetInlineEnd:e.marginSM}}},lo=e=>{const{motionEaseOut:n,previewCls:i,motionDurationSlow:t,componentCls:o}=e;return[{[`${o}-preview-root`]:{[i]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${i}-body`]:u(u({},Le()),{overflow:"hidden"}),[`${i}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${t} ${n} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":u(u({},Le()),{transition:`transform ${t} ${n} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${i}-moving`]:{[`${i}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${i}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:e.zIndexPopup+1,width:"100%"},"&":[io(e),ao(e)]}]},so=e=>{const{componentCls:n}=e;return{[n]:{position:"relative",display:"inline-block",[`${n}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${n}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${n}-mask`]:u({},no(e)),[`${n}-mask:hover`]:{opacity:1},[`${n}-placeholder`]:u({},Le())}}},ro=e=>{const{previewCls:n}=e;return{[`${n}-root`]:Dt(e,"zoom"),"&":ht(e,!0)}},Qe=at("Image",e=>{const n=`${e.componentCls}-preview`,i=Te(e,{previewCls:n,modalMaskBg:new ae("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[so(i),lo(i),Ct(Te(i,{componentCls:n})),ro(i)]},e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new ae(e.colorTextLightSolid).toRgbString(),previewOperationColorDisabled:new ae(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5})),Je={rotateLeft:a(bt,null,null),rotateRight:a(St,null,null),zoomIn:a(Pt,null,null),zoomOut:a(It,null,null),close:a(rt,null,null),left:a(Vt,null,null),right:a(Yt,null,null),flipX:a(Ae,null,null),flipY:a(Ae,{rotate:90},null)},uo=()=>({previewPrefixCls:String,preview:ut()}),co=le({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:uo(),setup(e,n){let{attrs:i,slots:t}=n;const{prefixCls:o,rootPrefixCls:r}=Fe("image",e),v=d(()=>`${o.value}-preview`),[w,k]=Qe(o),b=d(()=>{const{preview:g}=e;if(g===!1)return g;const C=typeof g=="object"?g:{};return u(u({},C),{rootClassName:k.value,transitionName:xe(r.value,"zoom",C.transitionName),maskTransitionName:xe(r.value,"fade",C.maskTransitionName)})});return()=>w(a(Xe,L(L({},u(u({},i),e)),{},{preview:b.value,icons:Je,previewPrefixCls:v.value}),t))}}),po=co,ee=le({name:"AImage",inheritAttrs:!1,props:Ze(),setup(e,n){let{slots:i,attrs:t}=n;const{prefixCls:o,rootPrefixCls:r,configProvider:v}=Fe("image",e),[w,k]=Qe(o),b=d(()=>{const{preview:g}=e;if(g===!1)return g;const C=typeof g=="object"?g:{};return u(u({icons:Je},C),{transitionName:xe(r.value,"zoom",C.transitionName),maskTransitionName:xe(r.value,"fade",C.maskTransitionName)})});return()=>{var g,C;const j=((C=(g=v.locale)===null||g===void 0?void 0:g.value)===null||C===void 0?void 0:C.Image)||ct.Image,h=()=>a("div",{class:`${o.value}-mask-info`},[a(At,null,null),j==null?void 0:j.preview]),{previewMask:S=i.previewMask||h}=e;return w(a(oo,L(L({},u(u(u({},t),e),{prefixCls:o.value})),{},{preview:b.value,rootClassName:te(e.rootClassName,k.value)}),u(u({},i),{previewMask:typeof S=="function"?S:null})))}}});ee.PreviewGroup=po;ee.install=function(e){return e.component(ee.name,ee),e.component(ee.PreviewGroup.name,ee.PreviewGroup),e};const vo={class:"form"},mo={class:"tools"},fo={key:1},go={key:0,class:"contain"},wo={class:"top"},Co=["title"],ho={class:"buttons"},yo=le({__name:"FormList",setup(e){const n=pt(),i=N([{title:"表单名称",key:"name",dataIndex:"name"},{title:"预览图",key:"img",dataIndex:"img",width:150},{title:"状态",key:"status",dataIndex:"status",width:100},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"备注",key:"description",dataIndex:"description"},{title:"操作",key:"action",dataIndex:"action"}]),t=ne({keyword:"",pageNumber:1,pageSize:10}),o=N([]),r=N(0),v=N(!1),w=N(),k=()=>{var c;(c=w.value)==null||c.resetFields(),C()},b=N("form"),g=()=>{b.value=="form"?b.value="visual":b.value="form"},C=()=>{v.value=!0,Oe.getList(t).then(c=>{const{code:m,data:y}=c;m==200&&(o.value=y.data,r.value=y.total),v.value=!1})},j=()=>{n.push({path:"/low-code/form"})},h=c=>{n.push({path:"/low-code/form",query:{id:c}})},S=c=>{Oe.remove(c).then(m=>{const{code:y}=m;y==200&&C()})},P=(c,m)=>{Oe.getTemplate(c).then(y=>{const{code:E,data:_,msg:l}=y;E==200&&qe(_,m,"vue")})};return be(()=>{C()}),(c,m)=>{const y=Lt,E=jt,_=_t,l=Et,M=xt,I=Tt,D=yt,W=mt,O=Rt,B=ee,U=Ft,$=Gt,se=Bt,G=Ut;return R(),K("div",vo,[a(D,{class:"search-area"},{default:x(()=>[a(I,{ref_key:"searchFormRef",ref:w,model:t,onFinish:C},{default:x(()=>[a(M,{gutter:24},{default:x(()=>[a(_,{span:4},{default:x(()=>[a(E,{label:"表单名称",name:"keyword"},{default:x(()=>[a(y,{value:t.keyword,"onUpdate:value":m[0]||(m[0]=f=>t.keyword=f)},null,8,["value"])]),_:1})]),_:1}),a(_,{span:4,style:{"text-align":"right"}},{default:x(()=>[a(l,{type:"primary","html-type":"submit"},{default:x(()=>[Q("搜索")]),_:1}),a(l,{style:{margin:"0 8px"},onClick:k},{default:x(()=>[Q(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(D,null,{default:x(()=>[ye("div",mo,[a(l,{type:"primary",onClick:j},{default:x(()=>[Q("新增")]),_:1}),a(l,{onClick:g,type:"link",style:{float:"right"}},{default:x(()=>[a(_e(Ae))]),_:1})]),o.value.length===0?(R(),ce(W,{key:0})):(R(),K("div",fo,[b.value=="visual"?(R(),K("div",go,[(R(!0),K(pe,null,vt(o.value,f=>(R(),K("div",{class:"item",key:f.id},[ye("div",wo,[ye("div",{class:"title",title:f.name},dt(f.name),9,Co),ye("div",ho,[a(l,{icon:$e(_e(kt)),shape:"circle",type:"link",ghost:"",title:"下载",onClick:A=>P(f.id,f.name)},null,8,["icon","onClick"]),a(l,{icon:$e(_e(Mt)),shape:"circle",type:"link",ghost:"",title:"编辑",onClick:A=>h(f.id)},null,8,["icon","onClick"]),a(O,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:A=>S(f.id)},{default:x(()=>[a(l,{title:"删除",icon:$e(_e(Nt)),shape:"circle",type:"link",danger:"",ghost:""},null,8,["icon"])]),_:2},1032,["onConfirm"])])]),a(B,{src:f.img,height:"calc(100% - 40px)",width:"100%"},null,8,["src"])]))),128))])):(R(),ce(se,{key:1,columns:i.value,"data-source":o.value,pagination:!1,scroll:{y:470}},{bodyCell:x(({column:f,record:A})=>[f.key=="status"?(R(),K(pe,{key:0},[A.status?(R(),ce(U,{key:0,color:"#87d068"},{default:x(()=>[Q("启用")]),_:1})):(R(),ce(U,{key:1,color:"#f50"},{default:x(()=>[Q("停用")]),_:1}))],64)):De("",!0),f.key=="action"?(R(),K(pe,{key:1},[a(l,{type:"link",onClick:p=>h(A.id)},{default:x(()=>[Q("编辑")]),_:2},1032,["onClick"]),a($,{type:"vertical"}),a(O,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:p=>S(A.id)},{default:x(()=>[a(l,{type:"link",danger:""},{default:x(()=>[Q("删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):De("",!0),f.key=="img"?(R(),ce(B,{key:2,src:A.img,height:"100px",width:"100%"},null,8,["src"])):De("",!0)]),_:1},8,["columns","data-source"]))])),a(G,{style:{display:"flex","justify-content":"flex-end"},current:t.pageNumber,"onUpdate:current":m[1]||(m[1]=f=>t.pageNumber=f),total:r.value,"show-less-items":""},null,8,["current","total"])]),_:1})])}}}),Lo=ft(yo,[["__scopeId","data-v-ea7263c4"]]);export{Lo as default};
