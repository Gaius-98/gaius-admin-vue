import{r as N,_ as S}from"./index-DiwTyEDS.js";import{g as z,m as Y,r as l,n as B,o as D,q as M,l as e,w as t,V as P,J as k,$ as R,a0 as V,a1 as $,av as q,a2 as U,a3 as E,a4 as J,a7 as j}from"./.pnpm-DZa05fHr.js";const A={getList:d=>N({method:"get",url:"loginlog/list",params:d})},G={class:"loginLog"},H=z({__name:"LoginLog",setup(d){const a=Y({keyword:"",startTime:"",endTime:"",pageNumber:1,pageSize:10}),r=l(""),m=l([]),x=l([{title:"用户名",key:"username",dataIndex:"username"},{title:"ip地址",key:"ip",dataIndex:"ip"},{title:"地址",key:"address",dataIndex:"address"},{title:"操作系统",key:"os",dataIndex:"os"},{title:"浏览器",key:"browser",dataIndex:"browser"},{title:"登录时间",key:"createTime",dataIndex:"createTime"}]),_=l(!1),p=l(),b=()=>{var o;(o=p.value)==null||o.resetFields(),u()},g=l(0),h=()=>{a.pageNumber=1,a.pageSize=10,u()},T=()=>{r.value?(a.startTime=r.value[0],a.endTime=r.value[1]):(a.startTime="",a.endTime="")},w=o=>{const{current:n,pageSize:s}=o;a.pageNumber=n,a.pageSize=s,u()},u=()=>{_.value=!0,A.getList(a).then(o=>{const{code:n,data:s}=o;n==200&&(m.value=s.data,g.value=s.total),_.value=!1})};return B(()=>{u()}),(o,n)=>{const s=R,f=V,c=$,L=q,v=U,C=E,I=J,y=P,F=j;return D(),M("div",G,[e(y,{class:"search-area"},{default:t(()=>[e(I,{ref_key:"searchFormRef",ref:p,model:a,onFinish:h},{default:t(()=>[e(C,{gutter:24},{default:t(()=>[e(c,{span:4},{default:t(()=>[e(f,{label:"ip地址",name:"keyword"},{default:t(()=>[e(s,{value:a.keyword,"onUpdate:value":n[0]||(n[0]=i=>a.keyword=i)},null,8,["value"])]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(f,{label:"登录日期"},{default:t(()=>[e(L,{value:r.value,"onUpdate:value":n[1]||(n[1]=i=>r.value=i),valueFormat:"YYYY-MM-DD",onChange:n[2]||(n[2]=i=>T())},null,8,["value"])]),_:1})]),_:1}),e(c,{span:4,style:{"text-align":"right"}},{default:t(()=>[e(v,{type:"primary","html-type":"submit"},{default:t(()=>[k("搜索")]),_:1}),e(v,{style:{margin:"0 8px"},onClick:b},{default:t(()=>[k(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(y,null,{default:t(()=>[e(F,{loading:_.value,columns:x.value,"data-source":m.value,scroll:{y:540},onChange:w,pagination:{current:a.pageNumber,total:g.value}},null,8,["loading","columns","data-source","pagination"])]),_:1})])}}}),Q=S(H,[["__scopeId","data-v-dc5a3c21"]]);export{Q as default};
