function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/LayoutView-CowYMi1d.js","assets/.pnpm-CWzuy1aI.js","assets/.pnpm-DxkFTwjz.css","assets/HomeView-DQFg8g78.js","assets/HomeView-ChX_3GV0.css","assets/BlankView-DSy2UKwk.js","assets/MenuView-BO4D5u6k.js","assets/menu-Cw3WMEGd.js","assets/MenuView-C-lAJoZ-.css","assets/UserView-BTG0dwLz.js","assets/ImagePicker-rjA5ndZV.js","assets/resource-CiGQWcRq.js","assets/ImagePicker-BymuNb7A.css","assets/UserView-D4vWQ16k.css","assets/OrgView-Br8sKopo.js","assets/OrgView-CauDlU9N.css","assets/DictView-BxNCeJCJ.js","assets/DictView-CR8Lv7TH.css","assets/RoleView-dhpLE9LT.js","assets/RoleView-DRAH-v6M.css","assets/RequestView-DZ5t4cZ-.js","assets/RequestView-B7UQYcaC.css","assets/ResourceView-C3s5a5in.js","assets/ResourceView-BO5FAEvx.css","assets/SettingView-DazW6K0i.js","assets/SettingView-B6rrPwn_.css","assets/LoginLog-BapTSknS.js","assets/LoginLog-oLa7bnxa.css","assets/NoticeView-Czn1u6Rs.js","assets/notice-0-XGsy7E.js","assets/NoticeView-s3DDEuLe.css","assets/NotifyMessage-mK4UR66o.js","assets/NotifyMessage-DgbXIpcY.css","assets/DeviceView-BptVSI8K.js","assets/DeviceView-Bw_aC0vH.css","assets/ReportView-CfXmU00z.js","assets/ReportView-CdhFIrph.css","assets/LogView-BryzJ0iF.js","assets/LogView-C3pxSEGw.css","assets/NotFound-Bz8jBDU-.js","assets/LoginView-D9Kq48I9.js","assets/LoginView-CdhfC7vB.css","assets/CodeEditor-BYn-AmcT.js","assets/ColorPicker-BWXhP_tF.js","assets/ColorPicker-_ImOMT5B.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var K=Object.defineProperty;var J=(e,t,o)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var U=(e,t,o)=>(J(e,typeof t!="symbol"?t+"":t,o),o);import{a as R,c as Q,b as X,d as Y,e as P,f as ee,r as d,u as j,g as k,s as z,o as v,h as T,w as B,i as y,j as te,z as oe,k as ne,_ as se,l as re,v as ae,t as x,m as ie,n as ce,p as le,q as w,x as ue,F as pe,y as me,A as de,B as _e,C as fe,D as M,E as he,S as ge,Z as ve,G as ye,H as I}from"./.pnpm-CWzuy1aI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const Ee="modulepreload",be=function(e){return"/"+e},q={},i=function(t,o,r){let n=Promise.resolve();if(o&&o.length>0){const s=document.getElementsByTagName("link");n=Promise.all(o.map(a=>{if(a=be(a),a in q)return;q[a]=!0;const c=a.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const _=s[m];if(_.href===a&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Ee,c||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),c)return new Promise((m,_)=>{u.addEventListener("load",m),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Le=(e,t,o=1)=>{R.set(e,t.toString(),{expires:o})},Oe=e=>R.get(e),Ie=e=>{R.remove(e)};class Pe{constructor(){U(this,"_token","");const t=Oe("admin-token");t&&(this._token=t)}set(t){Le("admin-token",t),this._token=t}get(){return this._token}remove(){Ie("admin-token"),this._token=null}}const N=new Pe,Te=[{path:"/",name:"layout",component:()=>i(()=>import("./LayoutView-CowYMi1d.js"),__vite__mapDeps([0,1,2])),redirect:{path:"/home"},children:[{path:"/home",name:"home",component:()=>i(()=>import("./HomeView-DQFg8g78.js"),__vite__mapDeps([3,1,2,4]))},{path:"/system",name:"system",component:()=>i(()=>import("./BlankView-DSy2UKwk.js"),__vite__mapDeps([5,1,2])),children:[{path:"menu",name:"menu",component:()=>i(()=>import("./MenuView-BO4D5u6k.js"),__vite__mapDeps([6,7,1,2,8]))},{path:"user",name:"user",component:()=>i(()=>import("./UserView-BTG0dwLz.js"),__vite__mapDeps([9,10,11,1,2,12,13]))},{path:"org",name:"org",component:()=>i(()=>import("./OrgView-Br8sKopo.js"),__vite__mapDeps([14,1,2,15]))},{path:"dict",name:"dict",component:()=>i(()=>import("./DictView-BxNCeJCJ.js"),__vite__mapDeps([16,1,2,17]))},{path:"role",name:"role",component:()=>i(()=>import("./RoleView-dhpLE9LT.js"),__vite__mapDeps([18,7,1,2,19]))},{path:"request",name:"request",component:()=>i(()=>import("./RequestView-DZ5t4cZ-.js"),__vite__mapDeps([20,1,2,21]))},{path:"resource",name:"resource",component:()=>i(()=>import("./ResourceView-C3s5a5in.js"),__vite__mapDeps([22,11,1,2,23]))},{path:"setting",name:"setting",component:()=>i(()=>import("./SettingView-DazW6K0i.js"),__vite__mapDeps([24,1,2,25,12]))},{path:"login-log",name:"loginLog",component:()=>i(()=>import("./LoginLog-BapTSknS.js"),__vite__mapDeps([26,1,2,27]))},{path:"notice",name:"notice",component:()=>i(()=>import("./NoticeView-Czn1u6Rs.js"),__vite__mapDeps([28,29,1,2,30]))},{path:"notice-message",name:"noticeMessage",component:()=>i(()=>import("./NotifyMessage-mK4UR66o.js"),__vite__mapDeps([31,29,1,2,32]))}]},{path:"/business",name:"business",component:()=>i(()=>import("./BlankView-DSy2UKwk.js"),__vite__mapDeps([5,1,2])),children:[{path:"device",name:"device",component:()=>i(()=>import("./DeviceView-BptVSI8K.js"),__vite__mapDeps([33,1,2,34,12]))},{path:"report",name:"report",component:()=>i(()=>import("./ReportView-CfXmU00z.js"),__vite__mapDeps([35,1,2,36]))},{path:"log",name:"log",component:()=>i(()=>import("./LogView-BryzJ0iF.js"),__vite__mapDeps([37,1,2,38]))}]},{path:"/:pathMatch(.*)*",name:"404",component:()=>i(()=>import("./NotFound-Bz8jBDU-.js"),__vite__mapDeps([39,1,2]))}]},{path:"/login",name:"login",component:()=>i(()=>import("./LoginView-D9Kq48I9.js"),__vite__mapDeps([40,1,2,41]))}],E=Q({history:X("/"),routes:Te});E.beforeEach((e,t,o)=>{e.path=="/login"||N.get()?o():o("/login")});const we=e=>{const{type:t,address:o,openType:r}=e;switch(t){case"front":r=="_self"?E.push({path:o}):r=="_blank"&&window.open(o,"_blank");break;case"page":break;case"form":E.push({path:"/apply/form",query:{id:o}});break;case"table":E.push({path:"/apply/table",query:{id:o}});break;case"iframe":E.push({path:"/apply/iframe",query:{id:encodeURIComponent(o)}});break}},A=Y.create({baseURL:"/prod",timeout:6e4});A.interceptors.request.use(e=>(e.headers.Authorization=`Bearer ${N.get()}`,e),e=>e);A.interceptors.response.use(e=>{const{code:t,msg:o}=e.data;return typeof t<"u"&&t!=200&&P.error(o),e.data},e=>{var t,o;return P.error(((t=e.response)==null?void 0:t.data).msg||e.message),((o=e.response)==null?void 0:o.data).code==403&&we({type:"front",openType:"_self",address:"/login"}),Promise.reject(e)});const p=e=>new Promise((t,o)=>{A.request(e).then(r=>{t(r)},r=>{o(r)})}),Re={getMenu:()=>p({url:"/menu",method:"get"})},ke={getList:e=>p({method:"get",url:"user/list",params:e}),getDetail:e=>p({method:"get",url:"user/detail",params:{userId:e}}),getUserInfo:()=>p({method:"get",url:"auth/userInfo"}),remove:e=>p({method:"get",url:"user/remove",params:{userId:e}}),add:e=>p({method:"post",url:"user/register",data:e}),update:e=>p({method:"post",url:"user/update",data:e}),getRoleDict:()=>p({method:"get",url:"role/dict"})},$={getDict:e=>p({method:"get",url:"/dict/dictByType",params:{dictType:e}}),getSetting:e=>p({method:"get",url:"/setting/byType",params:{type:e}}),getOrgTree:e=>p({url:"org/orgTree",method:"get",params:{keyword:e}}),getNotice:()=>p({url:"notice/list/ByUser/limit",method:"get"}),getAllUser:()=>p({url:"user/all",method:"get"}),getOverview:e=>p({method:"get",url:"business/device/overview",params:e})},G=ee("system",()=>{const e=d([]),t=d(!1),o=()=>{t.value=!0},r=()=>{t.value=!1},n=d("zh"),s=()=>{n.value=="en"?n.value="zh":n.value="en"},a=j("sy-theme-json",{projectName:"sy-admin",logo:"/prod/uploads/3a587351093a7d331c2f210100eaef5593.png",loginBg:"/prod/uploads/bef69558f77f710e05a25f66ad1076bed7.webp",colorPrimary:"#1677ff",headerBgColor:"#001529",headerFontColor:"#ffffff",menuTheme:"light",layoutMode:"horizontal",watermarkVisible:!1,watermarkText:"sy-admin"}),c=d({}),l=d({}),f=d([]),u=d({name:"",status:"",sortNum:0}),m=d({list:[],total:0}),_=j("sy-permissions",[]),O=d(!1),H=()=>{O.value=!O.value},W=h=>{c.value=h},C=async()=>{const{data:h}=await Re.getMenu();e.value=h},D=async()=>{const{data:{user:h,roles:b,permissions:S,org:Z}}=await ke.getUserInfo();l.value=h,f.value=b,u.value=Z,_.value=S},V=async()=>{const{code:h,data:b,msg:S}=await $.getNotice();h==200&&(m.value.list=b.data,m.value.total=b.total)};return{menuTree:e,isConfigVisible:t,local:n,onOpenConfigDrawer:o,onCloseConfigDrawer:r,onToggleLocal:s,themeCfg:a,collapsed:O,onToggleCollapsed:H,startUp:async()=>{await C(),await D(),await V()},getMenu:C,userInfo:l,getUserInfo:D,permissionInfo:_,systemSetting:c,setSystemSetting:W,orgInfo:u,roleInfo:f,getNoticeList:V,noticeInfo:m}}),Ae=k({__name:"App",setup(e){const t=d("middle");$.getSetting("system").then(a=>{const{code:c,data:l,msg:f}=a;if(c==200){let u=document.querySelector('link[rel="icon"]');u.href=l.projectLogo;let m=document.querySelector("title");m.innerText=l.projectName,r(l)}else P.error("获取系统配置失败")});const o=G(),{setSystemSetting:r}=o,{local:n,themeCfg:s}=z(o);return(a,c)=>{const l=ne("router-view"),f=se;return v(),T(f,{locale:y(n)=="en"?y(te):y(oe),"component-size":t.value,theme:{token:{colorPrimary:y(s).colorPrimary}}},{default:B(()=>[re(l)]),_:1},8,["locale","component-size","theme"])}}}),Ze=(e,t,o="json")=>{const r=document.createElement("a");t=`${decodeURI(encodeURI(t||ae()))}.${o}`,r.href=URL.createObjectURL(e),r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Ce=()=>{const e=document.querySelector(".pre-loading");e&&e.remove()},Ke=(e,t)=>t.split(".").reduce((r,n)=>{if(r!=null)return r[n]||null},e),Je=(e,t,o)=>{const r=t.split(".");r.reduce((n,s,a)=>(a===r.length-1?n[s]=o||void 0:n[s]||(n[s]={}),n[s]),e)},Qe=e=>{if(typeof e=="string")return Number(e)!==0;if(typeof e=="number")return e!==0},De={install:(e,t)=>{e.provide("sfProvideEL",t)}},Ve=k({__name:"GEchart",props:{option:{default:()=>({})}},emits:[""],setup(e,{emit:t}){const o=e,r=d(!0),{option:n}=x(o),s=ie({});Object.assign(s,n.value);const a=d();let c;const l=d(0),f=()=>{c?(c.clear(),c.setOption(s)):a.value&&(c=ue(a.value),c.setOption(s)),r.value=!1},u=new ResizeObserver(m=>{l.value&&clearTimeout(l.value),l.value=window.setTimeout(()=>{try{c.resize()}catch(_){console.warn(`chart重新设置大小失败,失败原因：${_}`)}},50)});return ce(()=>{f(),u.observe(a.value)}),le(n,()=>{Object.assign(s,n.value),f()},{deep:!0}),(m,_)=>(v(),w("div",{ref_key:"GEchart",ref:a,class:"ev-chart"},null,512))}}),F=(e,t)=>{const o=e.__vccOpts||e;for(const[r,n]of t)o[r]=n;return o},Se=F(Ve,[["__scopeId","data-v-da7e9beb"]]),Ue={class:"visual-group"},je=k({__name:"VisualGroup",props:{data:{}},setup(e){const t=e,{data:o}=x(t);return(r,n)=>(v(),w("div",Ue,[(v(!0),w(pe,null,me(y(o),s=>(v(),T(y(de),{key:s.id,disabled:!0,active:!1,left:s.position.left,top:s.position.top,width:s.size.width,height:s.size.height},{default:B(()=>[(v(),T(_e(s.tag),fe(s.props,{style:s.style||{}}),null,16,["style"]))]),_:2},1032,["left","top","width","height"]))),128))]))}}),qe=F(je,[["__scopeId","data-v-0d1345e7"]]),ze={name:"has-perm",options:{beforeMount(e,t){const o=G(),{permissionInfo:r}=z(o);!r.value.includes(t.value)&&!r.value.includes("*")&&(e.style.display="none")}}},Be={render:e=>he(ge)},xe=()=>{const e=document.createElement("div");return Object.assign(e.style,{position:"absolute",zIndex:2e3,top:0,left:0,right:0,bottom:0,backgroudColor:"rgba(0,0,0,.2)",display:"flex",alignItems:"center",justifyContent:"center"}),e},L=xe(),Me=M(Be);Me.mount(L);const Ne={name:"loading",options:{beforeMount(e,t){const{value:o,modifiers:r}=t;r.fullscreen?e=document.body:(e.setAttribute("old-position",e.style.position),e.style.position="relative"),o&&e.appendChild(L)},updated(e,t){const{value:o,modifiers:r}=t;if(r.fullscreen&&(e=document.body),o)e.setAttribute("old-position",e.style.position),e.style.position="relative",e.appendChild(L);else{const n=e.getAttribute("old-position");n?e.style.position=n:Reflect.deleteProperty(e.style,"position"),e.removeChild(L)}}}},$e=[ze,ve,Ne],Ge=e=>{$e.map(t=>{e.directive(t.name,t.options)})},g=M(Ae);g.use(ye());g.use(Ge);g.use(E);g.use(De,{"code-editor":I(()=>i(()=>import("./CodeEditor-BYn-AmcT.js"),__vite__mapDeps([42,1,2]))),"color-picker":I(()=>i(()=>import("./ColorPicker-BWXhP_tF.js"),__vite__mapDeps([43,1,2,44]))),"image-picker":I(()=>i(()=>import("./ImagePicker-rjA5ndZV.js"),__vite__mapDeps([10,11,1,2,12])))});g.component("GEchart",Se);g.component("VisualGroup",qe);g.mount("#app");Ce();export{F as _,i as a,ke as b,$ as c,Ze as d,N as e,Ke as g,Qe as i,we as j,p as r,Je as s,G as u};
