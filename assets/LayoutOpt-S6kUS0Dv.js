import{f as C,u as x,_ as T,c as R}from"./index-BuOOkONL.js";import{s as B}from"./pinia-DlKznUG5.js";import{u as K}from"./@vueuse-CbJ3uXWy.js";import{b as V,u as N}from"./vue-router-iEIkon04.js";import{Z as q,B as U,D as F,y as G,$ as j,a0 as z}from"./ant-design-vue-CYBwGk2d.js";import{d as M,q as A,h as E,w as P,V as h,a4 as L,a7 as H,u as e,M as O,ae as D,W as I,X as p,A as W,H as X,aa as d,c as l,a5 as i,L as f}from"./@vue-BvA2MXdg.js";import{a3 as Z,a4 as J,a5 as Q,a6 as Y}from"./@ant-design-DjS9GqSD.js";const ee=g=>{const{type:u,address:s,openType:r}=g;switch(u){case"front":r=="_self"?C.push({path:s}):r=="_blank"&&window.open(s,"_blank");break;case"page":break;case"form":C.push({path:"/preview/form",query:{id:s}});break;case"table":C.push({path:"/preview/table",query:{id:s}});break;case"iframe":C.push({path:"/preview/iframe",query:{id:encodeURIComponent(s)}});break}},he=M({__name:"LayoutMenu",setup(g){const u=V(),s=x(),{menuTree:r,themeCfg:m}=B(s),n=K("gaius-admin-menu-selected",[],sessionStorage),_=K("gaius-admin-menu-open",[],sessionStorage),y=A(()=>b(r.value)),b=o=>o.map(t=>{let a={key:(t==null?void 0:t.id)||"",...t};return a.icon&&(a.icon=E("span",{class:`iconfont icon-${a.icon}`})),t.children&&(a.children=b(t.children)),a}),v=(o,t)=>{for(let a=0;a<t.length;a++){const c=t[a];if(c.address===o)return c.id;if(c.children){const k=v(o,c.children);if(k)return k}}};P(()=>u.path,()=>{const o=v(u.path,r.value);o&&(n.value=[o])},{immediate:!0});const w=({item:o})=>{const{originItemValue:t}=o;ee(t)};return(o,t)=>{const a=q;return h(),L(a,H(o.$attrs,{items:y.value,theme:e(m).menuTheme,onSelect:w,openKeys:e(_),"onUpdate:openKeys":t[0]||(t[0]=c=>O(_)?_.value=c:null),selectedKeys:e(n),"onUpdate:selectedKeys":t[1]||(t[1]=c=>O(n)?n.value=c:null)}),null,16,["items","theme","openKeys","selectedKeys"])}}}),te={class:"logo"},oe=["src"],se=M({__name:"LayoutLogo",setup(g){D(n=>({"1bb352f7":e(s).headerFontColor,c6ebacfe:e(s).headerBgColor}));const u=x(),{themeCfg:s,collapsed:r}=B(u),{onToggleCollapsed:m}=u;return(n,_)=>(h(),I("div",te,[p("img",{src:e(s).logo,alt:""},null,8,oe),W(p("span",{class:"title"},d(e(s).projectName),513),[[X,!e(r)]]),e(r)?(h(),L(e(Z),{key:0,class:"trigger",onClick:e(m)},null,8,["onClick"])):(h(),L(e(J),{key:1,class:"trigger",onClick:e(m)},null,8,["onClick"]))]))}}),ge=T(se,[["__scopeId","data-v-a98263ca"]]),ae={class:"layout-opt"},ne={class:"layout-opt-userinfo"},re=["src"],ce={class:"layout-opt-userinfo-name"},le=M({__name:"LayoutOpt",setup(g){D(w=>({"3be1782c":e(m).headerFontColor,"18fa17f6":e(m).headerBgColor}));const u=N(),s=x(),{local:r,themeCfg:m,userInfo:n}=B(s),{onOpenConfigDrawer:_,onToggleLocal:y}=s,b=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},v=()=>{R.remove(),u.push({path:"/login"})};return(w,o)=>{const t=U,a=F,c=G,k=j,$=z;return h(),I("div",ae,[p("div",{class:"layout-opt-i18n",onClick:o[0]||(o[0]=(...S)=>e(y)&&e(y)(...S))},[l(t,{ghost:"",size:"small"},{default:i(()=>[f(d(e(r)=="en"?"中文":"English"),1)]),_:1})]),p("div",{class:"layout-opt-theme",onClick:o[1]||(o[1]=(...S)=>e(_)&&e(_)(...S))},[l(e(Q))]),p("div",{class:"layout-opt-github",onClick:b},[l(e(Y))]),p("div",ne,[l($,{placement:"bottomRight"},{content:i(()=>[l(t,{onClick:v,block:""},{default:i(()=>[f(" 退出 ")]),_:1})]),title:i(()=>[l(c,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:i(()=>[l(a,{label:"姓名"},{default:i(()=>[f(d(e(n).name),1)]),_:1}),l(a,{label:"用户名"},{default:i(()=>[f(d(e(n).username),1)]),_:1}),l(a,{label:"邮箱"},{default:i(()=>[f(d(e(n).email),1)]),_:1})]),_:1})]),default:i(()=>[l(k,null,{icon:i(()=>[p("img",{src:e(n).avatar||"",alt:""},null,8,re)]),_:1}),p("span",ce,d(e(n).name),1)]),_:1})])])}}}),ye=T(le,[["__scopeId","data-v-59d51c61"]]);export{ge as L,he as _,ye as a};
