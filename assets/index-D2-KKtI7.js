import{r as on,p as an,R as de,_ as ln,L as rn,g as sn}from"./index-BEJX6f1I.js";import{s as R,aC as Ke,d as Ee,x as dn,g as E,i as ee,z as $t,t as P,u as Pt,P as ke,aY as cn,_ as O,$ as Dt,b as Tt,aS as un,bN as It,e as pe,bH as fn,aV as vn,aW as yn,j as _t,r as Fe,bX as hn,w as xe,n as Lt,F as gn,h as pn,v as bn,T as mn,R as Kn,k as kn,aU as et,c as xn,K as Oe,bY as Re,bZ as Sn,bu as wn,be as Cn,p as On,aL as En,bx as ut,b_ as Nn,m as $n,b$ as Pn}from"./index-WygQ6GTr.js";function se(e){const t=R();return Ke(()=>{t.value=e()},{flush:"sync"}),t}const Dn=Ee({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:on(),setup(e,t){let{slots:n,attrs:o}=t;const{prefixCls:a}=dn("radio",e);return an("button"),()=>{var i;return E(de,ee(ee(ee({},o),e),{},{prefixCls:a.value}),{default:()=>[(i=n.default)===null||i===void 0?void 0:i.call(n)]})}}});de.Group=ln;de.Button=Dn;de.install=function(e){return e.component(de.name,de),e.component(de.Group.name,de.Group),e.component(de.Button.name,de.Button),e};const At=Symbol("TreeContextKey"),Tn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return $t(At,P(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),at=()=>Pt(At,P(()=>({}))),Mt=Symbol("KeysStateKey"),In=e=>{$t(Mt,e)},Ft=()=>Pt(Mt,{expandedKeys:R([]),selectedKeys:R([]),loadedKeys:R([]),loadingKeys:R([]),checkedKeys:R([]),halfCheckedKeys:R([]),expandedKeysSet:P(()=>new Set),selectedKeysSet:P(()=>new Set),loadedKeysSet:P(()=>new Set),loadingKeysSet:P(()=>new Set),checkedKeysSet:P(()=>new Set),halfCheckedKeysSet:P(()=>new Set),flattenNodes:R([])}),_n=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const i=`${t}-indent-unit`,l=[];for(let v=0;v<n;v+=1)l.push(E("span",{key:v,class:{[i]:!0,[`${i}-start`]:o[v],[`${i}-end`]:a[v]}},null));return E("span",{"aria-hidden":"true",class:`${t}-indent`},[l])},jt={eventKey:[String,Number],prefixCls:String,title:ke.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:ke.any,switcherIcon:ke.any,domRef:{type:Function}},Ln={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},An=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:ke.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:ke.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:ke.any,switcherIcon:ke.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var Mn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const ft="open",vt="close",Fn="---",yt=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:jt,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;cn(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(r=>"`v-slot:"+r+"` ")}instead`);const i=R(!1),l=at(),{expandedKeysSet:v,selectedKeysSet:p,loadedKeysSet:f,loadingKeysSet:y,checkedKeysSet:h,halfCheckedKeysSet:b}=Ft(),{dragOverNodeKey:m,dropPosition:w,keyEntities:g}=l.value,S=P(()=>je(e.eventKey,{expandedKeysSet:v.value,selectedKeysSet:p.value,loadedKeysSet:f.value,loadingKeysSet:y.value,checkedKeysSet:h.value,halfCheckedKeysSet:b.value,dragOverNodeKey:m,dropPosition:w,keyEntities:g})),K=se(()=>S.value.expanded),A=se(()=>S.value.selected),L=se(()=>S.value.checked),D=se(()=>S.value.loaded),T=se(()=>S.value.loading),Y=se(()=>S.value.halfChecked),W=se(()=>S.value.dragOver),F=se(()=>S.value.dragOverGapTop),H=se(()=>S.value.dragOverGapBottom),X=se(()=>S.value.pos),V=R(),oe=P(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{children:M}=c[r]||{};return!!(M||[]).length}),J=P(()=>{const{isLeaf:r}=e,{loadData:c}=l.value,M=oe.value;return r===!1?!1:r||!c&&!M||c&&D.value&&!M}),ye=P(()=>J.value?null:K.value?ft:vt),le=P(()=>{const{disabled:r}=e,{disabled:c}=l.value;return!!(c||r)}),we=P(()=>{const{checkable:r}=e,{checkable:c}=l.value;return!c||r===!1?!1:c}),re=P(()=>{const{selectable:r}=e,{selectable:c}=l.value;return typeof r=="boolean"?r:c}),z=P(()=>{const{data:r,active:c,checkable:M,disableCheckbox:q,disabled:U,selectable:Z}=e;return O(O({active:c,checkable:M,disableCheckbox:q,disabled:U,selectable:Z},r),{dataRef:r,data:r,isLeaf:J.value,checked:L.value,expanded:K.value,loading:T.value,selected:A.value,halfChecked:Y.value})}),ce=fn(),G=P(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{parent:M}=c[r]||{};return O(O({},Be(O({},e,S.value))),{parent:M})}),Q=Dt({eventData:G,eventKey:P(()=>e.eventKey),selectHandle:V,pos:X,key:ce.vnode.key});a(Q);const ae=r=>{const{onNodeDoubleClick:c}=l.value;c(r,G.value)},ue=r=>{if(le.value)return;const{onNodeSelect:c}=l.value;r.preventDefault(),c(r,G.value)},be=r=>{if(le.value)return;const{disableCheckbox:c}=e,{onNodeCheck:M}=l.value;if(!we.value||c)return;r.preventDefault();const q=!L.value;M(r,G.value,q)},Ce=r=>{const{onNodeClick:c}=l.value;c(r,G.value),re.value?ue(r):be(r)},Ne=r=>{const{onNodeMouseEnter:c}=l.value;c(r,G.value)},He=r=>{const{onNodeMouseLeave:c}=l.value;c(r,G.value)},ze=r=>{const{onNodeContextMenu:c}=l.value;c(r,G.value)},Ve=r=>{const{onNodeDragStart:c}=l.value;r.stopPropagation(),i.value=!0,c(r,Q);try{r.dataTransfer.setData("text/plain","")}catch{}},Ge=r=>{const{onNodeDragEnter:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Q)},qe=r=>{const{onNodeDragOver:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Q)},Te=r=>{const{onNodeDragLeave:c}=l.value;r.stopPropagation(),c(r,Q)},We=r=>{const{onNodeDragEnd:c}=l.value;r.stopPropagation(),i.value=!1,c(r,Q)},Xe=r=>{const{onNodeDrop:c}=l.value;r.preventDefault(),r.stopPropagation(),i.value=!1,c(r,Q)},Ie=r=>{const{onNodeExpand:c}=l.value;T.value||c(r,G.value)},_e=()=>{const{data:r}=e,{draggable:c}=l.value;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(r)))},Le=()=>{const{draggable:r,prefixCls:c}=l.value;return r&&(r!=null&&r.icon)?E("span",{class:`${c}-draggable-icon`},[r.icon]):null},Ye=()=>{var r,c,M;const{switcherIcon:q=o.switcherIcon||((r=l.value.slots)===null||r===void 0?void 0:r[(M=(c=e.data)===null||c===void 0?void 0:c.slots)===null||M===void 0?void 0:M.switcherIcon])}=e,{switcherIcon:U}=l.value,Z=q||U;return typeof Z=="function"?Z(z.value):Z},Ae=()=>{const{loadData:r,onNodeLoad:c}=l.value;T.value||r&&K.value&&!J.value&&!oe.value&&!D.value&&c(G.value)};Tt(()=>{Ae()}),un(()=>{Ae()});const Ue=()=>{const{prefixCls:r}=l.value,c=Ye();if(J.value)return c!==!1?E("span",{class:pe(`${r}-switcher`,`${r}-switcher-noop`)},[c]):null;const M=pe(`${r}-switcher`,`${r}-switcher_${K.value?ft:vt}`);return c!==!1?E("span",{onClick:Ie,class:M},[c]):null},Ze=()=>{var r,c;const{disableCheckbox:M}=e,{prefixCls:q}=l.value,U=le.value;return we.value?E("span",{class:pe(`${q}-checkbox`,L.value&&`${q}-checkbox-checked`,!L.value&&Y.value&&`${q}-checkbox-indeterminate`,(U||M)&&`${q}-checkbox-disabled`),onClick:be},[(c=(r=l.value).customCheckable)===null||c===void 0?void 0:c.call(r)]):null},Me=()=>{const{prefixCls:r}=l.value;return E("span",{class:pe(`${r}-iconEle`,`${r}-icon__${ye.value||"docu"}`,T.value&&`${r}-icon_loading`)},null)},me=()=>{const{disabled:r,eventKey:c}=e,{draggable:M,dropLevelOffset:q,dropPosition:U,prefixCls:Z,indent:s,dropIndicatorRender:d,dragOverNodeKey:u,direction:x}=l.value;return!r&&M!==!1&&u===c?d({dropPosition:U,dropLevelOffset:q,indent:s,prefixCls:Z,direction:x}):null},Je=()=>{var r,c,M,q,U,Z;const{icon:s=o.icon,data:d}=e,u=o.title||((r=l.value.slots)===null||r===void 0?void 0:r[(M=(c=e.data)===null||c===void 0?void 0:c.slots)===null||M===void 0?void 0:M.title])||((q=l.value.slots)===null||q===void 0?void 0:q.title)||e.title,{prefixCls:x,showIcon:N,icon:C,loadData:k}=l.value,I=le.value,B=`${x}-node-content-wrapper`;let $;if(N){const te=s||((U=l.value.slots)===null||U===void 0?void 0:U[(Z=d==null?void 0:d.slots)===null||Z===void 0?void 0:Z.icon])||C;$=te?E("span",{class:pe(`${x}-iconEle`,`${x}-icon__customize`)},[typeof te=="function"?te(z.value):te]):Me()}else k&&T.value&&($=Me());let _;typeof u=="function"?_=u(z.value):_=u,_=_===void 0?Fn:_;const j=E("span",{class:`${x}-title`},[_]);return E("span",{ref:V,title:typeof u=="string"?u:"",class:pe(`${B}`,`${B}-${ye.value||"normal"}`,!I&&(A.value||i.value)&&`${x}-node-selected`),onMouseenter:Ne,onMouseleave:He,onContextmenu:ze,onClick:Ce,onDblclick:ae},[$,j,me()])};return()=>{const r=O(O({},e),n),{eventKey:c,isLeaf:M,isStart:q,isEnd:U,domRef:Z,active:s,data:d,onMousemove:u,selectable:x}=r,N=Mn(r,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:C,filterTreeNode:k,keyEntities:I,dropContainerKey:B,dropTargetKey:$,draggingNodeKey:_}=l.value,j=le.value,te=It(N,{aria:!0,data:!0}),{level:fe}=I[c]||{},ie=U[U.length-1],ne=_e(),he=!j&&ne,$e=_===c,Qe=x!==void 0?{"aria-selected":!!x}:void 0;return E("div",ee(ee({ref:Z,class:pe(n.class,`${C}-treenode`,{[`${C}-treenode-disabled`]:j,[`${C}-treenode-switcher-${K.value?"open":"close"}`]:!M,[`${C}-treenode-checkbox-checked`]:L.value,[`${C}-treenode-checkbox-indeterminate`]:Y.value,[`${C}-treenode-selected`]:A.value,[`${C}-treenode-loading`]:T.value,[`${C}-treenode-active`]:s,[`${C}-treenode-leaf-last`]:ie,[`${C}-treenode-draggable`]:he,dragging:$e,"drop-target":$===c,"drop-container":B===c,"drag-over":!j&&W.value,"drag-over-gap-top":!j&&F.value,"drag-over-gap-bottom":!j&&H.value,"filter-node":k&&k(G.value)}),style:n.style,draggable:he,"aria-grabbed":$e,onDragstart:he?Ve:void 0,onDragenter:ne?Ge:void 0,onDragover:ne?qe:void 0,onDragleave:ne?Te:void 0,onDrop:ne?Xe:void 0,onDragend:ne?We:void 0,onMousemove:u},Qe),te),[E(_n,{prefixCls:C,level:fe,isStart:q,isEnd:U},null),Le(),Ue(),Ze(),Je()])}}});function ve(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function ge(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function lt(e){return e.split("-")}function Bt(e,t){return`${e}-${t}`}function jn(e){return e&&e.type&&e.type.isTreeNode}function Bn(e,t){const n=[],o=t[e];function a(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(l=>{let{key:v,children:p}=l;n.push(v),a(p)})}return a(o.children),n}function Rn(e){if(e.parent){const t=lt(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Hn(e){const t=lt(e.pos);return Number(t[t.length-1])===0}function ht(e,t,n,o,a,i,l,v,p,f){var y;const{clientX:h,clientY:b}=e,{top:m,height:w}=e.target.getBoundingClientRect(),S=((f==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-h)-12)/o;let K=v[n.eventKey];if(b<m+w/2){const X=l.findIndex(J=>J.key===K.key),V=X<=0?0:X-1,oe=l[V].key;K=v[oe]}const A=K.key,L=K,D=K.key;let T=0,Y=0;if(!p.has(A))for(let X=0;X<S&&Rn(K);X+=1)K=K.parent,Y+=1;const W=t.eventData,F=K.node;let H=!0;return Hn(K)&&K.level===0&&b<m+w/2&&i({dragNode:W,dropNode:F,dropPosition:-1})&&K.key===n.eventKey?T=-1:(L.children||[]).length&&p.has(D)?i({dragNode:W,dropNode:F,dropPosition:0})?T=0:H=!1:Y===0?S>-1.5?i({dragNode:W,dropNode:F,dropPosition:1})?T=1:H=!1:i({dragNode:W,dropNode:F,dropPosition:0})?T=0:i({dragNode:W,dropNode:F,dropPosition:1})?T=1:H=!1:i({dragNode:W,dropNode:F,dropPosition:1})?T=1:H=!1,{dropPosition:T,dropLevelOffset:Y,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:D,dropContainerKey:T===0?null:((y=K.parent)===null||y===void 0?void 0:y.key)||null,dropAllowed:H}}function gt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function tt(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function pt(e,t){const n=new Set;function o(a){if(n.has(a))return;const i=t[a];if(!i)return;n.add(a);const{parent:l,node:v}=i;v.disabled||l&&o(l.key)}return(e||[]).forEach(a=>{o(a)}),[...n]}var zn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};function De(e,t){return e??t}function rt(e){const{title:t,_title:n,key:o,children:a}=e||{},i=t||"title";return{title:i,_title:n||[i],key:o||"key",children:a||"children"}}function Vn(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return vn(n).map(a=>{var i,l,v,p;if(!jn(a))return null;const f=a.children||{},y=a.key,h={};for(const[X,V]of Object.entries(a.props))h[yn(X)]=V;const{isLeaf:b,checkable:m,selectable:w,disabled:g,disableCheckbox:S}=h,K={isLeaf:b||b===""||void 0,checkable:m||m===""||void 0,selectable:w||w===""||void 0,disabled:g||g===""||void 0,disableCheckbox:S||S===""||void 0},A=O(O({},h),K),{title:L=(i=f.title)===null||i===void 0?void 0:i.call(f,A),icon:D=(l=f.icon)===null||l===void 0?void 0:l.call(f,A),switcherIcon:T=(v=f.switcherIcon)===null||v===void 0?void 0:v.call(f,A)}=h,Y=zn(h,["title","icon","switcherIcon"]),W=(p=f.default)===null||p===void 0?void 0:p.call(f),F=O(O(O({},Y),{title:L,icon:D,switcherIcon:T,key:y,isLeaf:b}),K),H=t(W);return H.length&&(F.children=H),F})}return t(e)}function Gn(e,t,n){const{_title:o,key:a,children:i}=rt(n),l=new Set(t===!0?[]:t),v=[];function p(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f.map((h,b)=>{const m=Bt(y?y.pos:"0",b),w=De(h[a],m);let g;for(let K=0;K<o.length;K+=1){const A=o[K];if(h[A]!==void 0){g=h[A];break}}const S=O(O({},_t(h,[...o,a,i])),{title:g,key:w,parent:y,pos:m,children:null,data:h,isStart:[...y?y.isStart:[],b===0],isEnd:[...y?y.isEnd:[],b===f.length-1]});return v.push(S),t===!0||l.has(w)?S.children=p(h[i]||[],S):S.children=[],S})}return p(e),v}function qn(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:i,fieldNames:l}=o,{key:v,children:p}=rt(l),f=a||p;let y;i?typeof i=="string"?y=b=>b[i]:typeof i=="function"&&(y=b=>i(b)):y=(b,m)=>De(b[v],m);function h(b,m,w,g){const S=b?b[f]:e,K=b?Bt(w.pos,m):"0",A=b?[...g,b]:[];if(b){const L=y(b,K),D={node:b,index:m,pos:K,key:L,parentPos:w.node?w.pos:null,level:w.level+1,nodes:A};t(D)}S&&S.forEach((L,D)=>{h(L,D,{node:b,pos:K,level:w?w.level+1:-1},A)})}h(null)}function Wn(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:i,fieldNames:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2?arguments[2]:void 0;const p=a||v,f={},y={};let h={posEntities:f,keyEntities:y};return t&&(h=t(h)||h),qn(e,b=>{const{node:m,index:w,pos:g,key:S,parentPos:K,level:A,nodes:L}=b,D={node:m,nodes:L,index:w,key:S,pos:g,level:A},T=De(S,g);f[g]=D,y[T]=D,D.parent=f[K],D.parent&&(D.parent.children=D.parent.children||[],D.parent.children.push(D)),n&&n(D,h)},{externalGetKey:p,childrenPropName:i,fieldNames:l}),o&&o(h),h}function je(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:i,checkedKeysSet:l,halfCheckedKeysSet:v,dragOverNodeKey:p,dropPosition:f,keyEntities:y}=t;const h=y[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:i.has(e),checked:l.has(e),halfChecked:v.has(e),pos:String(h?h.pos:""),parent:h.parent,dragOver:p===e&&f===0,dragOverGapTop:p===e&&f===-1,dragOverGapBottom:p===e&&f===1}}function Be(e){const{data:t,expanded:n,selected:o,checked:a,loaded:i,loading:l,halfChecked:v,dragOver:p,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m}=e,w=O(O({dataRef:t},t),{expanded:n,selected:o,checked:a,loaded:i,loading:l,halfChecked:v,dragOver:p,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m,key:m});return"props"in w||Object.defineProperty(w,"props",{get(){return e}}),w}function Rt(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function Xn(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function Yn(e,t,n,o){const a=new Set(e),i=new Set;for(let v=0;v<=n;v+=1)(t.get(v)||new Set).forEach(f=>{const{key:y,node:h,children:b=[]}=f;a.has(y)&&!o(h)&&b.filter(m=>!o(m.node)).forEach(m=>{a.add(m.key)})});const l=new Set;for(let v=n;v>=0;v-=1)(t.get(v)||new Set).forEach(f=>{const{parent:y,node:h}=f;if(o(h)||!f.parent||l.has(f.parent.key))return;if(o(f.parent.node)){l.add(y.key);return}let b=!0,m=!1;(y.children||[]).filter(w=>!o(w.node)).forEach(w=>{let{key:g}=w;const S=a.has(g);b&&!S&&(b=!1),!m&&(S||i.has(g))&&(m=!0)}),b&&a.add(y.key),m&&i.add(y.key),l.add(y.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Rt(i,a))}}function Un(e,t,n,o,a){const i=new Set(e);let l=new Set(t);for(let p=0;p<=o;p+=1)(n.get(p)||new Set).forEach(y=>{const{key:h,node:b,children:m=[]}=y;!i.has(h)&&!l.has(h)&&!a(b)&&m.filter(w=>!a(w.node)).forEach(w=>{i.delete(w.key)})});l=new Set;const v=new Set;for(let p=o;p>=0;p-=1)(n.get(p)||new Set).forEach(y=>{const{parent:h,node:b}=y;if(a(b)||!y.parent||v.has(y.parent.key))return;if(a(y.parent.node)){v.add(h.key);return}let m=!0,w=!1;(h.children||[]).filter(g=>!a(g.node)).forEach(g=>{let{key:S}=g;const K=i.has(S);m&&!K&&(m=!1),!w&&(K||l.has(S))&&(w=!0)}),m||i.delete(h.key),w&&l.add(h.key),v.add(h.key)});return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Rt(l,i))}}function nt(e,t,n,o,a,i){let l;i?l=i:l=Xn;const v=new Set(e.filter(f=>!!n[f]));let p;return t===!0?p=Yn(v,a,o,l):p=Un(v,t.halfCheckedKeys,a,o,l),p}function Zn(e){const t=Fe(0),n=R();return Ke(()=>{const o=new Map;let a=0;const i=e.value||{};for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const v=i[l],{level:p}=v;let f=o.get(p);f||(f=new Set,o.set(p,f)),f.add(v),a=Math.max(a,p)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}var bt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Jn=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},jt),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=R(!0),i=at(),l=R(!1),v=P(()=>e.motion?e.motion:hn()),p=(f,y)=>{var h,b,m,w;y==="appear"?(b=(h=v.value)===null||h===void 0?void 0:h.onAfterEnter)===null||b===void 0||b.call(h,f):y==="leave"&&((w=(m=v.value)===null||m===void 0?void 0:m.onAfterLeave)===null||w===void 0||w.call(m,f)),l.value||e.onMotionEnd(),l.value=!0};return xe(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&Lt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Tt(()=>{e.motionNodes&&e.onMotionStart()}),gn(()=>{e.motionNodes&&p()}),()=>{const{motion:f,motionNodes:y,motionType:h,active:b,eventKey:m}=e,w=bt(e,["motion","motionNodes","motionType","active","eventKey"]);return y?E(mn,ee(ee({},v.value),{},{appear:h==="show",onAfterAppear:g=>p(g,"appear"),onAfterLeave:g=>p(g,"leave")}),{default:()=>[pn(E("div",{class:`${i.value.prefixCls}-treenode-motion`},[y.map(g=>{const S=bt(g.data,[]),{title:K,key:A,isStart:L,isEnd:D}=g;return delete S.children,E(yt,ee(ee({},S),{},{title:K,active:b,data:g.data,key:A,eventKey:A,isStart:L,isEnd:D}),o)})]),[[bn,a.value]])]}):E(yt,ee(ee({class:n.class,style:n.style},w),{},{active:b,eventKey:m}),o)}}});function Qn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(i,l){const v=new Map;i.forEach(f=>{v.set(f,!0)});const p=l.filter(f=>!v.has(f));return p.length===1?p[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function mt(e,t,n){const o=e.findIndex(l=>l.key===n),a=e[o+1],i=t.findIndex(l=>l.key===n);if(a){const l=t.findIndex(v=>v.key===a.key);return t.slice(i+1,l)}return t.slice(i+1)}var Kt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const kt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},eo=()=>{},Se=`RC_TREE_MOTION_${Math.random()}`,ot={key:Se},Ht={key:Se,level:0,index:0,pos:"0",node:ot,nodes:[ot]},xt={parent:null,children:[],pos:Ht.pos,data:ot,title:null,key:Se,isStart:[],isEnd:[]};function St(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function wt(e){const{key:t,pos:n}=e;return De(t,n)}function to(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const no=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Ln,setup(e,t){let{expose:n,attrs:o}=t;const a=Fe(),i=Fe(),{expandedKeys:l,flattenNodes:v}=Ft();n({scrollTo:g=>{a.value.scrollTo(g)},getIndentWidth:()=>i.value.offsetWidth});const p=R(v.value),f=R([]),y=Fe(null);function h(){p.value=v.value,f.value=[],y.value=null,e.onListChangeEnd()}const b=at();xe([()=>l.value.slice(),v],(g,S)=>{let[K,A]=g,[L,D]=S;const T=Qn(L,K);if(T.key!==null){const{virtual:Y,height:W,itemHeight:F}=e;if(T.add){const H=D.findIndex(oe=>{let{key:J}=oe;return J===T.key}),X=St(mt(D,A,T.key),Y,W,F),V=D.slice();V.splice(H+1,0,xt),p.value=V,f.value=X,y.value="show"}else{const H=A.findIndex(oe=>{let{key:J}=oe;return J===T.key}),X=St(mt(A,D,T.key),Y,W,F),V=A.slice();V.splice(H+1,0,xt),p.value=V,f.value=X,y.value="hide"}}else D!==A&&(p.value=A)}),xe(()=>b.value.dragging,g=>{g||h()});const m=P(()=>e.motion===void 0?p.value:v.value),w=()=>{e.onActiveChange(null)};return()=>{const g=O(O({},e),o),{prefixCls:S,selectable:K,checkable:A,disabled:L,motion:D,height:T,itemHeight:Y,virtual:W,focusable:F,activeItem:H,focused:X,tabindex:V,onKeydown:oe,onFocus:J,onBlur:ye,onListChangeStart:le,onListChangeEnd:we}=g,re=Kt(g,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return E(Kn,null,[X&&H&&E("span",{style:kt,"aria-live":"assertive"},[to(H)]),E("div",null,[E("input",{style:kt,disabled:F===!1||L,tabindex:F!==!1?V:null,onKeydown:oe,onFocus:J,onBlur:ye,value:"",onChange:eo,"aria-label":"for screen reader"},null)]),E("div",{class:`${S}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[E("div",{class:`${S}-indent`},[E("div",{ref:i,class:`${S}-indent-unit`},null)])]),E(rn,ee(ee({},_t(re,["onActiveChange"])),{},{data:m.value,itemKey:wt,height:T,fullHeight:!1,virtual:W,itemHeight:Y,prefixCls:`${S}-list`,ref:a,onVisibleChange:(z,ce)=>{const G=new Set(z);ce.filter(ae=>!G.has(ae)).some(ae=>wt(ae)===Se)&&h()}}),{default:z=>{const{pos:ce}=z,G=Kt(z.data,[]),{title:Q,key:ae,isStart:ue,isEnd:be}=z,Ce=De(ae,ce);return delete G.key,delete G.children,E(Jn,ee(ee({},G),{},{eventKey:Ce,title:Q,active:!!H&&ae===H.key,data:z.data,isStart:ue,isEnd:be,motion:D,motionNodes:ae===Se?f.value:null,motionType:y.value,onMotionStart:le,onMotionEnd:h,onMousemove:w}),null)}})])}}});function oo(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return E("div",{style:a},null)}const ao=10,Oo=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:kn(An(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:oo,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const i=R(!1);let l={};const v=R(),p=R([]),f=R([]),y=R([]),h=R([]),b=R([]),m=R([]),w={},g=Dt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),S=R([]);xe([()=>e.treeData,()=>e.children],()=>{S.value=e.treeData!==void 0?et(e.treeData).slice():Vn(et(e.children))},{immediate:!0,deep:!0});const K=R({}),A=R(!1),L=R(null),D=R(!1),T=P(()=>rt(e.fieldNames)),Y=R();let W=null,F=null,H=null;const X=P(()=>({expandedKeysSet:V.value,selectedKeysSet:oe.value,loadedKeysSet:J.value,loadingKeysSet:ye.value,checkedKeysSet:le.value,halfCheckedKeysSet:we.value,dragOverNodeKey:g.dragOverNodeKey,dropPosition:g.dropPosition,keyEntities:K.value})),V=P(()=>new Set(m.value)),oe=P(()=>new Set(p.value)),J=P(()=>new Set(h.value)),ye=P(()=>new Set(b.value)),le=P(()=>new Set(f.value)),we=P(()=>new Set(y.value));Ke(()=>{if(S.value){const s=Wn(S.value,{fieldNames:T.value});K.value=O({[Se]:Ht},s.keyEntities)}});let re=!1;xe([()=>e.expandedKeys,()=>e.autoExpandParent,K],(s,d)=>{let[u,x]=s,[N,C]=d,k=m.value;if(e.expandedKeys!==void 0||re&&x!==C)k=e.autoExpandParent||!re&&e.defaultExpandParent?pt(e.expandedKeys,K.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const I=O({},K.value);delete I[Se],k=Object.keys(I).map(B=>I[B].key)}else!re&&e.defaultExpandedKeys&&(k=e.autoExpandParent||e.defaultExpandParent?pt(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);k&&(m.value=k),re=!0},{immediate:!0});const z=R([]);Ke(()=>{z.value=Gn(S.value,m.value,T.value)}),Ke(()=>{e.selectable&&(e.selectedKeys!==void 0?p.value=gt(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(p.value=gt(e.defaultSelectedKeys,e)))});const{maxLevel:ce,levelEntities:G}=Zn(K);Ke(()=>{if(e.checkable){let s;if(e.checkedKeys!==void 0?s=tt(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?s=tt(e.defaultCheckedKeys)||{}:S.value&&(s=tt(e.checkedKeys)||{checkedKeys:f.value,halfCheckedKeys:y.value}),s){let{checkedKeys:d=[],halfCheckedKeys:u=[]}=s;e.checkStrictly||({checkedKeys:d,halfCheckedKeys:u}=nt(d,!0,K.value,ce.value,G.value)),f.value=d,y.value=u}}}),Ke(()=>{e.loadedKeys&&(h.value=e.loadedKeys)});const Q=()=>{O(g,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ae=s=>{Y.value.scrollTo(s)};xe(()=>e.activeKey,()=>{e.activeKey!==void 0&&(L.value=e.activeKey)},{immediate:!0}),xe(L,s=>{Lt(()=>{s!==null&&ae({key:s})})},{immediate:!0,flush:"post"});const ue=s=>{e.expandedKeys===void 0&&(m.value=s)},be=()=>{g.draggingNodeKey!==null&&O(g,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),W=null,H=null},Ce=(s,d)=>{const{onDragend:u}=e;g.dragOverNodeKey=null,be(),u==null||u({event:s,node:d.eventData}),F=null},Ne=s=>{Ce(s,null),window.removeEventListener("dragend",Ne)},He=(s,d)=>{const{onDragstart:u}=e,{eventKey:x,eventData:N}=d;F=d,W={x:s.clientX,y:s.clientY};const C=ve(m.value,x);g.draggingNodeKey=x,g.dragChildrenKeys=Bn(x,K.value),v.value=Y.value.getIndentWidth(),ue(C),window.addEventListener("dragend",Ne),u&&u({event:s,node:N})},ze=(s,d)=>{const{onDragenter:u,onExpand:x,allowDrop:N,direction:C}=e,{pos:k,eventKey:I}=d;if(H!==I&&(H=I),!F){Q();return}const{dropPosition:B,dropLevelOffset:$,dropTargetKey:_,dropContainerKey:j,dropTargetPos:te,dropAllowed:fe,dragOverNodeKey:ie}=ht(s,F,d,v.value,W,N,z.value,K.value,V.value,C);if(g.dragChildrenKeys.indexOf(_)!==-1||!fe){Q();return}if(l||(l={}),Object.keys(l).forEach(ne=>{clearTimeout(l[ne])}),F.eventKey!==d.eventKey&&(l[k]=window.setTimeout(()=>{if(g.draggingNodeKey===null)return;let ne=m.value.slice();const he=K.value[d.eventKey];he&&(he.children||[]).length&&(ne=ge(m.value,d.eventKey)),ue(ne),x&&x(ne,{node:d.eventData,expanded:!0,nativeEvent:s})},800)),F.eventKey===_&&$===0){Q();return}O(g,{dragOverNodeKey:ie,dropPosition:B,dropLevelOffset:$,dropTargetKey:_,dropContainerKey:j,dropTargetPos:te,dropAllowed:fe}),u&&u({event:s,node:d.eventData,expandedKeys:m.value})},Ve=(s,d)=>{const{onDragover:u,allowDrop:x,direction:N}=e;if(!F)return;const{dropPosition:C,dropLevelOffset:k,dropTargetKey:I,dropContainerKey:B,dropAllowed:$,dropTargetPos:_,dragOverNodeKey:j}=ht(s,F,d,v.value,W,x,z.value,K.value,V.value,N);g.dragChildrenKeys.indexOf(I)!==-1||!$||(F.eventKey===I&&k===0?g.dropPosition===null&&g.dropLevelOffset===null&&g.dropTargetKey===null&&g.dropContainerKey===null&&g.dropTargetPos===null&&g.dropAllowed===!1&&g.dragOverNodeKey===null||Q():C===g.dropPosition&&k===g.dropLevelOffset&&I===g.dropTargetKey&&B===g.dropContainerKey&&_===g.dropTargetPos&&$===g.dropAllowed&&j===g.dragOverNodeKey||O(g,{dropPosition:C,dropLevelOffset:k,dropTargetKey:I,dropContainerKey:B,dropTargetPos:_,dropAllowed:$,dragOverNodeKey:j}),u&&u({event:s,node:d.eventData}))},Ge=(s,d)=>{H===d.eventKey&&!s.currentTarget.contains(s.relatedTarget)&&(Q(),H=null);const{onDragleave:u}=e;u&&u({event:s,node:d.eventData})},qe=function(s,d){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var x;const{dragChildrenKeys:N,dropPosition:C,dropTargetKey:k,dropTargetPos:I,dropAllowed:B}=g;if(!B)return;const{onDrop:$}=e;if(g.dragOverNodeKey=null,be(),k===null)return;const _=O(O({},je(k,et(X.value))),{active:((x=M.value)===null||x===void 0?void 0:x.key)===k,data:K.value[k].node});N.indexOf(k);const j=lt(I),te={event:s,node:Be(_),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(N),dropToGap:C!==0,dropPosition:C+Number(j[j.length-1])};u||$==null||$(te),F=null},Te=(s,d)=>{const{expanded:u,key:x}=d,N=z.value.filter(k=>k.key===x)[0],C=Be(O(O({},je(x,X.value)),{data:N.data}));ue(u?ve(m.value,x):ge(m.value,x)),me(s,C)},We=(s,d)=>{const{onClick:u,expandAction:x}=e;x==="click"&&Te(s,d),u&&u(s,d)},Xe=(s,d)=>{const{onDblclick:u,expandAction:x}=e;(x==="doubleclick"||x==="dblclick")&&Te(s,d),u&&u(s,d)},Ie=(s,d)=>{let u=p.value;const{onSelect:x,multiple:N}=e,{selected:C}=d,k=d[T.value.key],I=!C;I?N?u=ge(u,k):u=[k]:u=ve(u,k);const B=K.value,$=u.map(_=>{const j=B[_];return j?j.node:null}).filter(_=>_);e.selectedKeys===void 0&&(p.value=u),x&&x(u,{event:"select",selected:I,node:d,selectedNodes:$,nativeEvent:s})},_e=(s,d,u)=>{const{checkStrictly:x,onCheck:N}=e,C=d[T.value.key];let k;const I={event:"check",node:d,checked:u,nativeEvent:s},B=K.value;if(x){const $=u?ge(f.value,C):ve(f.value,C),_=ve(y.value,C);k={checked:$,halfChecked:_},I.checkedNodes=$.map(j=>B[j]).filter(j=>j).map(j=>j.node),e.checkedKeys===void 0&&(f.value=$)}else{let{checkedKeys:$,halfCheckedKeys:_}=nt([...f.value,C],!0,B,ce.value,G.value);if(!u){const j=new Set($);j.delete(C),{checkedKeys:$,halfCheckedKeys:_}=nt(Array.from(j),{checked:!1,halfCheckedKeys:_},B,ce.value,G.value)}k=$,I.checkedNodes=[],I.checkedNodesPositions=[],I.halfCheckedKeys=_,$.forEach(j=>{const te=B[j];if(!te)return;const{node:fe,pos:ie}=te;I.checkedNodes.push(fe),I.checkedNodesPositions.push({node:fe,pos:ie})}),e.checkedKeys===void 0&&(f.value=$,y.value=_)}N&&N(k,I)},Le=s=>{const d=s[T.value.key],u=new Promise((x,N)=>{const{loadData:C,onLoad:k}=e;if(!C||J.value.has(d)||ye.value.has(d))return null;C(s).then(()=>{const B=ge(h.value,d),$=ve(b.value,d);k&&k(B,{event:"load",node:s}),e.loadedKeys===void 0&&(h.value=B),b.value=$,x()}).catch(B=>{const $=ve(b.value,d);if(b.value=$,w[d]=(w[d]||0)+1,w[d]>=ao){const _=ge(h.value,d);e.loadedKeys===void 0&&(h.value=_),x()}N(B)}),b.value=ge(b.value,d)});return u.catch(()=>{}),u},Ye=(s,d)=>{const{onMouseenter:u}=e;u&&u({event:s,node:d})},Ae=(s,d)=>{const{onMouseleave:u}=e;u&&u({event:s,node:d})},Ue=(s,d)=>{const{onRightClick:u}=e;u&&(s.preventDefault(),u({event:s,node:d}))},Ze=s=>{const{onFocus:d}=e;A.value=!0,d&&d(s)},Me=s=>{const{onBlur:d}=e;A.value=!1,c(null),d&&d(s)},me=(s,d)=>{let u=m.value;const{onExpand:x,loadData:N}=e,{expanded:C}=d,k=d[T.value.key];if(D.value)return;u.indexOf(k);const I=!C;if(I?u=ge(u,k):u=ve(u,k),ue(u),x&&x(u,{node:d,expanded:I,nativeEvent:s}),I&&N){const B=Le(d);B&&B.then(()=>{}).catch($=>{const _=ve(m.value,k);ue(_),Promise.reject($)})}},Je=()=>{D.value=!0},r=()=>{setTimeout(()=>{D.value=!1})},c=s=>{const{onActiveChange:d}=e;L.value!==s&&(e.activeKey!==void 0&&(L.value=s),s!==null&&ae({key:s}),d&&d(s))},M=P(()=>L.value===null?null:z.value.find(s=>{let{key:d}=s;return d===L.value})||null),q=s=>{let d=z.value.findIndex(x=>{let{key:N}=x;return N===L.value});d===-1&&s<0&&(d=z.value.length),d=(d+s+z.value.length)%z.value.length;const u=z.value[d];if(u){const{key:x}=u;c(x)}else c(null)},U=P(()=>Be(O(O({},je(L.value,X.value)),{data:M.value.data,active:!0}))),Z=s=>{const{onKeydown:d,checkable:u,selectable:x}=e;switch(s.which){case Oe.UP:{q(-1),s.preventDefault();break}case Oe.DOWN:{q(1),s.preventDefault();break}}const N=M.value;if(N&&N.data){const C=N.data.isLeaf===!1||!!(N.data.children||[]).length,k=U.value;switch(s.which){case Oe.LEFT:{C&&V.value.has(L.value)?me({},k):N.parent&&c(N.parent.key),s.preventDefault();break}case Oe.RIGHT:{C&&!V.value.has(L.value)?me({},k):N.children&&N.children.length&&c(N.children[0].key),s.preventDefault();break}case Oe.ENTER:case Oe.SPACE:{u&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?_e({},k,!le.value.has(L.value)):!u&&x&&!k.disabled&&k.selectable!==!1&&Ie({},k);break}}}d&&d(s)};return a({onNodeExpand:me,scrollTo:ae,onKeydown:Z,selectedKeys:P(()=>p.value),checkedKeys:P(()=>f.value),halfCheckedKeys:P(()=>y.value),loadedKeys:P(()=>h.value),loadingKeys:P(()=>b.value),expandedKeys:P(()=>m.value)}),xn(()=>{window.removeEventListener("dragend",Ne),i.value=!0}),In({expandedKeys:m,selectedKeys:p,loadedKeys:h,loadingKeys:b,checkedKeys:f,halfCheckedKeys:y,expandedKeysSet:V,selectedKeysSet:oe,loadedKeysSet:J,loadingKeysSet:ye,checkedKeysSet:le,halfCheckedKeysSet:we,flattenNodes:z}),()=>{const{draggingNodeKey:s,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:x,dropPosition:N,dragOverNodeKey:C}=g,{prefixCls:k,showLine:I,focusable:B,tabindex:$=0,selectable:_,showIcon:j,icon:te=o.icon,switcherIcon:fe,draggable:ie,checkable:ne,checkStrictly:he,disabled:$e,motion:Qe,loadData:zt,filterTreeNode:Vt,height:Gt,itemHeight:qt,virtual:Wt,dropIndicatorRender:Xt,onContextmenu:Yt,onScroll:Ut,direction:Zt,rootClassName:Jt,rootStyle:Qt}=e,{class:en,style:tn}=n,nn=It(O(O({},e),n),{aria:!0,data:!0});let Pe;return ie?typeof ie=="object"?Pe=ie:typeof ie=="function"?Pe={nodeDraggable:ie}:Pe={}:Pe=!1,E(Tn,{value:{prefixCls:k,selectable:_,showIcon:j,icon:te,switcherIcon:fe,draggable:Pe,draggingNodeKey:s,checkable:ne,customCheckable:o.checkable,checkStrictly:he,disabled:$e,keyEntities:K.value,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:x,dropPosition:N,dragOverNodeKey:C,dragging:s!==null,indent:v.value,direction:Zt,dropIndicatorRender:Xt,loadData:zt,filterTreeNode:Vt,onNodeClick:We,onNodeDoubleClick:Xe,onNodeExpand:me,onNodeSelect:Ie,onNodeCheck:_e,onNodeLoad:Le,onNodeMouseEnter:Ye,onNodeMouseLeave:Ae,onNodeContextMenu:Ue,onNodeDragStart:He,onNodeDragEnter:ze,onNodeDragOver:Ve,onNodeDragLeave:Ge,onNodeDragEnd:Ce,onNodeDrop:qe,slots:o}},{default:()=>[E("div",{role:"tree",class:pe(k,en,Jt,{[`${k}-show-line`]:I,[`${k}-focused`]:A.value,[`${k}-active-focused`]:L.value!==null}),style:Qt},[E(no,ee({ref:Y,prefixCls:k,style:tn,disabled:$e,selectable:_,checkable:!!ne,motion:Qe,height:Gt,itemHeight:qt,virtual:Wt,focusable:B,focused:A.value,tabindex:$,activeItem:M.value,onFocus:Ze,onBlur:Me,onKeydown:Z,onActiveChange:c,onListChangeStart:Je,onListChangeEnd:r,onContextmenu:Yt,onScroll:Ut},nn),null)])]})}}});var lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){ro(e,a,n[a])})}return e}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=function(t,n){var o=Ct({},t,n.attrs);return E(Re,Ct({},o,{icon:lo}),null)};it.displayName="FileOutlined";it.inheritAttrs=!1;const io=it;var so={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){co(e,a,n[a])})}return e}function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(t,n){var o=Ot({},t,n.attrs);return E(Re,Ot({},o,{icon:so}),null)};st.displayName="MinusSquareOutlined";st.inheritAttrs=!1;const uo=st;var fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){vo(e,a,n[a])})}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=function(t,n){var o=Et({},t,n.attrs);return E(Re,Et({},o,{icon:fo}),null)};dt.displayName="PlusSquareOutlined";dt.inheritAttrs=!1;const yo=dt;var ho={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){go(e,a,n[a])})}return e}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct=function(t,n){var o=Nt({},t,n.attrs);return E(Re,Nt({},o,{icon:ho}),null)};ct.displayName="CaretDownFilled";ct.inheritAttrs=!1;const po=ct;function Eo(e,t,n,o,a){const{isLeaf:i,expanded:l,loading:v}=n;let p=t;if(v)return E(Sn,{class:`${e}-switcher-loading-icon`},null);let f;a&&typeof a=="object"&&(f=a.showLeafIcon);let y=null;const h=`${e}-switcher-icon`;return i?a?f&&o?o(n):(typeof a=="object"&&!f?y=E("span",{class:`${e}-switcher-leaf-line`},null):y=E(io,{class:`${e}-switcher-line-icon`},null),y):null:(y=E(po,{class:h},null),a&&(y=l?E(uo,{class:`${e}-switcher-line-icon`},null):E(yo,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?p=t(O(O({},n),{defaultIcon:y,switcherCls:h})):wn(p)&&(p=Cn(p,{class:h})),p||y)}const bo=new Nn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),mo=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Ko=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),ko=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:i}=t,l=(i-t.fontSizeLG)/2,v=t.paddingXS;return{[n]:O(O({},En(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:O({},ut(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:bo,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:O({},ut(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:i,lineHeight:`${i}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:O(O({},mo(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:i,margin:0,lineHeight:`${i}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:i/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:i/2*.8,height:i/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:v,marginBlockStart:l},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:i,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${i}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:i,height:i,lineHeight:`${i}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:O({lineHeight:`${i}px`,userSelect:"none"},Ko(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:i/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${i/2}px !important`}}}}})}},xo=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},So=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,i=t.controlHeightSM,l=On(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:i});return[ko(e,l),xo(l)]},No=$n("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:sn(`${n}-checkbox`,e)},So(n,e),Pn(e)]});export{po as C,io as F,uo as M,yo as P,Oo as T,yt as V,Dn as _,nt as a,ve as b,Wn as c,ge as d,se as e,No as f,So as g,Vn as h,rt as i,pt as j,Eo as r,An as t,Zn as u};
