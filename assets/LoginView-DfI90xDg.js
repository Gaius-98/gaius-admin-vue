import{ae as y,bj as S,d as C,H as x,I,$ as L,au as k,r as q,b as V,J as B,L as M,a2 as r,aA as j,Q as p,X as N,g as t,M as s,aq as R,cz as T,a5 as U,O as z,ai as F,aj as H,a4 as $,Z as A,a6 as D}from"./index-WygQ6GTr.js";import{I as E,_ as J}from"./index-B4yLT25j.js";const m={login:o=>y({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>S({baseURL:"/prod",method:"get",url:"/auth/captcha"})},O=o=>(F("data-v-e8797596"),o=o(),H(),o),P={class:"login"},Q={class:"login-right"},X={class:"project-title"},Z={class:"login-right-form"},G=O(()=>r("div",{class:"form-title"},"用户登录",-1)),K=["innerHTML"],W=C({__name:"LoginView",setup(o){R(l=>({ff7fbce8:p(c).colorPrimary}));const g=x(),{themeCfg:c}=I(g),a=L({username:"test",password:"test",captcha:""}),h=k(),f=()=>{m.login(a).then(l=>{const{code:e,data:u}=l;e==200&&(T.set(u),h.push("/home"))})},d=q(""),_=async()=>{const{data:l}=await m.getCaptcha();d.value=l};return V(()=>{_()}),(l,e)=>{const u=E,i=$,v=J,b=A,w=U;return B(),M("div",P,[r("div",{class:"login-left",style:j({background:`url(${p(c).loginBg})`,backgroundSize:"100% 100%"})},null,4),r("div",Q,[r("div",X,N(p(c).projectName),1),r("div",Z,[G,t(w,{model:a,"label-col":{span:8},hideRequiredMark:"",onFinish:f},{default:s(()=>[t(i,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[t(u,{value:a.username,"onUpdate:value":e[0]||(e[0]=n=>a.username=n)},null,8,["value"])]),_:1}),t(i,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[t(v,{value:a.password,"onUpdate:value":e[1]||(e[1]=n=>a.password=n)},null,8,["value"])]),_:1}),t(i,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[t(u,{value:a.captcha,"onUpdate:value":e[3]||(e[3]=n=>a.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:d.value,onClick:e[2]||(e[2]=n=>_()),style:{height:"100%"}},null,8,K)]),_:1},8,["value"])]),_:1}),t(i,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[t(b,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[z(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),te=D(W,[["__scopeId","data-v-e8797596"]]);export{te as default};
