import{a8 as f,d as G,aF as H,r as d,a1 as P,b as W,D as o,E as p,g as e,J as t,S as r,V as X,K as h,I as m,N as b,Q as Y,a3 as x,aE as Z,F as ee}from"./index-5uVo7gFH.js";import{C as te,_ as ae,a as oe,d as ne}from"./index-C3PzdEku.js";import{I as se,_ as le,B as re,F as ie}from"./index-CpuAoWon.js";import{I as _e}from"./index-CpEpho7f.js";import{T as ce}from"./index-Bigpcaj9.js";import{S as ue,D as de}from"./DeleteOutlined-DDcEZl5K.js";import{E as pe}from"./EditOutlined-D2kDSJ8n.js";import{_ as me,a as fe,b as ye}from"./index-nftqSiLH.js";import{_ as ge}from"./index-BB4RItaP.js";import"./index-M8iWskMh.js";import"./index-C_zJiHiZ.js";import"./EllipsisOutlined-8LHnTuO9.js";import"./ActionButton-C4aYlXiL.js";import"./PlusOutlined-Dchd30vU.js";import"./FolderOutlined-YWqvTW0i.js";const V={getList:n=>f({method:"get",url:"table/list",params:n}),getDetail:n=>f({method:"get",url:"table/detail",params:{id:n}}),remove:n=>f({method:"get",url:"table/remove",params:{id:n}}),add:n=>f({method:"post",url:"table/add",data:n}),update:n=>f({method:"post",url:"table/update",data:n})},ke={class:"table"},ve={class:"tools"},he={key:1},be={key:0,class:"contain"},xe=G({__name:"TableList",setup(n){const C=H(),O=d([{title:"表格名称",key:"name",dataIndex:"name"},{title:"预览图",key:"img",dataIndex:"img",width:150},{title:"状态",key:"status",dataIndex:"status",width:100},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"备注",key:"description",dataIndex:"description"},{title:"操作",key:"action",dataIndex:"action"}]),i=P({keyword:"",pageNumber:1,pageSize:10}),y=d([]),w=d(0),I=d(!1),F=d(),S=()=>{var s;(s=F.value)==null||s.resetFields(),k()},g=d("table"),$=()=>{g.value=="table"?g.value="visual":g.value="table"},k=()=>{I.value=!0,V.getList(i).then(s=>{const{code:l,data:_}=s;l==200&&(y.value=_.data,w.value=_.total),I.value=!1})},R=()=>{C.push({path:"/low-code/table"})},T=s=>{C.push({path:"/low-code/table",query:{id:s}})},N=s=>{V.remove(s).then(l=>{const{code:_}=l;_==200&&k()})};return W(()=>{k()}),(s,l)=>{const _=se,q=le,B=ae,c=re,J=oe,U=ie,v=te,j=Z,D=_e,E=me,z=ne,L=ce,A=ge,K=fe,M=ye;return o(),p("div",ke,[e(v,{class:"search-area"},{default:t(()=>[e(U,{ref_key:"searchFormRef",ref:F,model:i,onFinish:k},{default:t(()=>[e(J,{gutter:24},{default:t(()=>[e(B,{span:4},{default:t(()=>[e(q,{label:"表格名称",name:"keyword"},{default:t(()=>[e(_,{value:i.keyword,"onUpdate:value":l[0]||(l[0]=a=>i.keyword=a)},null,8,["value"])]),_:1})]),_:1}),e(B,{span:4,style:{"text-align":"right"}},{default:t(()=>[e(c,{type:"primary","html-type":"submit"},{default:t(()=>[r("搜索")]),_:1}),e(c,{style:{margin:"0 8px"},onClick:S},{default:t(()=>[r(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(v,null,{default:t(()=>[X("div",ve,[e(c,{type:"primary",onClick:R},{default:t(()=>[r("新增")]),_:1}),e(c,{onClick:$,type:"link",style:{float:"right"}},{default:t(()=>[e(h(ue))]),_:1})]),y.value.length===0?(o(),m(j,{key:0})):(o(),p("div",he,[g.value=="visual"?(o(),p("div",be,[(o(!0),p(b,null,Y(y.value,a=>(o(),m(v,{hoverable:!0,key:a.id},{cover:t(()=>[e(D,{src:a.img,height:"130px"},null,8,["src"])]),actions:t(()=>[e(h(pe),{key:"edit",title:"编辑",onClick:u=>T(a.id)},null,8,["onClick"]),e(E,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:u=>N(a.id)},{default:t(()=>[e(h(de),{key:"delete",title:"删除"})]),_:2},1032,["onConfirm"])]),default:t(()=>[e(z,{title:a.name,description:a.description},null,8,["title","description"])]),_:2},1024))),128))])):(o(),m(K,{key:1,columns:O.value,"data-source":y.value,pagination:!1,scroll:{y:470}},{bodyCell:t(({column:a,record:u})=>[a.key=="status"?(o(),p(b,{key:0},[u.status?(o(),m(L,{key:0,color:"#87d068"},{default:t(()=>[r("启用")]),_:1})):(o(),m(L,{key:1,color:"#f50"},{default:t(()=>[r("停用")]),_:1}))],64)):x("",!0),a.key=="action"?(o(),p(b,{key:1},[e(c,{type:"link",onClick:Q=>T(u.id)},{default:t(()=>[r("编辑")]),_:2},1032,["onClick"]),e(A,{type:"vertical"}),e(E,{title:"确定要删除吗?","ok-text":"确定","cancel-text":"取消",onConfirm:Q=>N(u.id)},{default:t(()=>[e(c,{type:"link",danger:""},{default:t(()=>[r("删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):x("",!0),a.key=="img"?(o(),m(D,{key:2,src:u.img,height:"100px",width:"100%"},null,8,["src"])):x("",!0)]),_:1},8,["columns","data-source"]))])),e(M,{style:{display:"flex","justify-content":"flex-end"},current:i.pageNumber,"onUpdate:current":l[1]||(l[1]=a=>i.pageNumber=a),total:w.value,"show-less-items":""},null,8,["current","total"])]),_:1})])}}}),qe=ee(xe,[["__scopeId","data-v-1eb4517c"]]);export{qe as default};
