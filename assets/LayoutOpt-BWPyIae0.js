import{m as ve,p as be,_ as C,d as $,g,x as F,r as _e,z as ne,t as ae,k as xe,u as Se,s as M,w as P,b as Ce,F as $e,e as q,bz as Z,bA as J,i as Q,P as x,bn as Y,cD as H,cE as ke,H as W,I as K,cF as ee,aa as we,J as j,U as Le,al as Be,Q as u,an as te,aq as re,L as se,a2 as S,h as He,v as Te,X as w,a6 as ie,au as ze,M as _,O as L,cz as Ie,Z as Oe}from"./index-BpUqFkTU.js";import{S as le,b as Ee,M as Re}from"./index-BJe9TwaE.js";import{i as De}from"./LayoutView-Cu_bDt5T.js";import{B as Me,i as Ae,S as Ne,G as Pe}from"./index-DEK7lRD1.js";import{D as Fe,a as We}from"./index-C3PDCuwN.js";import{A as Ke}from"./index-CHksNVbq.js";import{_ as je}from"./index-BxD2BrFi.js";const Ge=e=>{const{componentCls:a,colorBgContainer:o,colorBgBody:i,colorText:s}=e;return{[`${a}-sider-light`]:{background:o,[`${a}-sider-trigger`]:{color:s,background:o},[`${a}-sider-zero-width-trigger`]:{color:s,background:o,border:`1px solid ${i}`,borderInlineStart:0}}}},Ue=e=>{const{antCls:a,componentCls:o,colorText:i,colorTextLightSolid:s,colorBgHeader:d,colorBgBody:c,colorBgTrigger:p,layoutHeaderHeight:m,layoutHeaderPaddingInline:y,layoutHeaderColor:v,layoutFooterPadding:t,layoutTriggerHeight:n,layoutZeroTriggerSize:l,motionDurationMid:h,motionDurationSlow:r,fontSize:b,borderRadius:f}=e;return{[o]:C(C({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:c,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},[`${o}-header`]:{height:m,paddingInline:y,color:v,lineHeight:`${m}px`,background:d,[`${a}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:t,color:i,fontSize:b,background:c},[`${o}-content`]:{flex:"auto",minHeight:0},[`${o}-sider`]:{position:"relative",minWidth:0,background:d,transition:`all ${h}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${a}-menu${a}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:n},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:n,color:s,lineHeight:`${n}px`,textAlign:"center",background:p,cursor:"pointer",transition:`all ${h}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:m,insetInlineEnd:-l,zIndex:1,width:l,height:l,color:s,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:d,borderStartStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f,borderEndStartRadius:0,cursor:"pointer",transition:`background ${r} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${r}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-l,borderStartStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:f}}}}},Ge(e)),{"&-rtl":{direction:"rtl"}})}},Ve=ve("Layout",e=>{const{colorText:a,controlHeightSM:o,controlHeight:i,controlHeightLG:s,marginXXS:d}=e,c=s*1.25,p=be(e,{layoutHeaderHeight:i*2,layoutHeaderPaddingInline:c,layoutHeaderColor:a,layoutFooterPadding:`${o}px ${c}px`,layoutTriggerHeight:s+d*2,layoutZeroTriggerSize:s});return[Ue(p)]},e=>{const{colorBgLayout:a}=e;return{colorBgHeader:"#001529",colorBgBody:a,colorBgTrigger:"#002140"}}),G=()=>({prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String});function O(e){let{suffixCls:a,tagName:o,name:i}=e;return s=>$({compatConfig:{MODE:3},name:i,props:G(),setup(c,p){let{slots:m}=p;const{prefixCls:y}=F(a,c);return()=>{const v=C(C({},c),{prefixCls:y.value,tagName:o});return g(s,v,m)}}})}const U=$({compatConfig:{MODE:3},props:G(),setup(e,a){let{slots:o}=a;return()=>g(e.tagName,{class:e.prefixCls},o)}}),Xe=$({compatConfig:{MODE:3},inheritAttrs:!1,props:G(),setup(e,a){let{slots:o,attrs:i}=a;const{prefixCls:s,direction:d}=F("",e),[c,p]=Ve(s),m=_e([]);ne(le,{addSider:t=>{m.value=[...m.value,t]},removeSider:t=>{m.value=m.value.filter(n=>n!==t)}});const v=ae(()=>{const{prefixCls:t,hasSider:n}=e;return{[p.value]:!0,[`${t}`]:!0,[`${t}-has-sider`]:typeof n=="boolean"?n:m.value.length>0,[`${t}-rtl`]:d.value==="rtl"}});return()=>{const{tagName:t}=e;return c(g(t,C(C({},i),{class:[v.value,i.class]}),o))}}}),A=O({suffixCls:"layout",tagName:"section",name:"ALayout"})(Xe),T=O({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(U),N=O({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(U),z=O({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(U),oe={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},qe=()=>({prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:x.any,width:x.oneOfType([x.number,x.string]),collapsedWidth:x.oneOfType([x.number,x.string]),breakpoint:x.oneOf(Y("xs","sm","md","lg","xl","xxl","xxxl")),theme:x.oneOf(Y("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}),Ze=(()=>{let e=0;return function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${a}${e}`}})(),I=$({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:xe(qe(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup(e,a){let{emit:o,attrs:i,slots:s}=a;const{prefixCls:d}=F("layout-sider",e),c=Se(le,void 0),p=M(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),m=M(!1);P(()=>e.collapsed,()=>{p.value=!!e.collapsed}),ne(Ee,p);const y=(r,b)=>{e.collapsed===void 0&&(p.value=r),o("update:collapsed",r),o("collapse",r,b)},v=M(r=>{m.value=r.matches,o("breakpoint",r.matches),p.value!==r.matches&&y(r.matches,"responsive")});let t;function n(r){return v.value(r)}const l=Ze("ant-sider-");c&&c.addSider(l),Ce(()=>{P(()=>e.breakpoint,()=>{try{t==null||t.removeEventListener("change",n)}catch{t==null||t.removeListener(n)}if(typeof window<"u"){const{matchMedia:r}=window;if(r&&e.breakpoint&&e.breakpoint in oe){t=r(`(max-width: ${oe[e.breakpoint]})`);try{t.addEventListener("change",n)}catch{t.addListener(n)}n(t)}}},{immediate:!0})}),$e(()=>{try{t==null||t.removeEventListener("change",n)}catch{t==null||t.removeListener(n)}c&&c.removeSider(l)});const h=()=>{y(!p.value,"clickTrigger")};return()=>{var r,b;const f=d.value,{collapsedWidth:V,width:de,reverseArrow:E,zeroWidthTriggerStyle:ce,trigger:B=(r=s.trigger)===null||r===void 0?void 0:r.call(s),collapsible:X,theme:ue}=e,R=p.value?V:de,k=De(R)?`${R}px`:String(R),D=parseFloat(String(V||0))===0?g("span",{onClick:h,class:q(`${f}-zero-width-trigger`,`${f}-zero-width-trigger-${E?"right":"left"}`),style:ce},[B||g(Me,null,null)]):null,ge={expanded:E?g(Z,null,null):g(J,null,null),collapsed:E?g(J,null,null):g(Z,null,null)},pe=p.value?"collapsed":"expanded",me=ge[pe],fe=B!==null?D||g("div",{class:`${f}-trigger`,onClick:h,style:{width:k}},[B||me]):null,he=[i.style,{flex:`0 0 ${k}`,maxWidth:k,minWidth:k,width:k}],ye=q(f,`${f}-${ue}`,{[`${f}-collapsed`]:!!p.value,[`${f}-has-trigger`]:X&&B!==null&&!D,[`${f}-below`]:!!m.value,[`${f}-zero-width`]:parseFloat(k)===0},i.class);return g("aside",Q(Q({},i),{},{class:ye,style:he}),[g("div",{class:`${f}-children`},[(b=s.default)===null||b===void 0?void 0:b.call(s)]),X||m.value&&D?fe:null])}}}),pt=T,mt=I,ft=z,ht=C(A,{Header:T,Footer:N,Content:z,Sider:I,install:e=>(e.component(A.name,A),e.component(T.name,T),e.component(N.name,N),e.component(I.name,I),e.component(z.name,z),e)}),Je=e=>{const{type:a,address:o,openType:i}=e;switch(a){case"front":i=="_self"?H.push({path:o}):i=="_blank"&&window.open(o,"_blank");break;case"page":break;case"form":H.push({path:"/preview/form",query:{id:o}});break;case"table":H.push({path:"/preview/table",query:{id:o}});break;case"iframe":H.push({path:"/preview/iframe",query:{id:encodeURIComponent(o)}});break}},yt=$({__name:"LayoutMenu",setup(e){const a=ke(),o=W(),{menuTree:i,themeCfg:s}=K(o),d=ee("gaius-admin-menu-selected",[],sessionStorage),c=ee("gaius-admin-menu-open",[],sessionStorage),p=ae(()=>m(i.value)),m=t=>t.map(n=>{let l={key:(n==null?void 0:n.id)||"",...n};return l.icon&&(l.icon=we(Ae[l.icon])),n.children&&(l.children=m(n.children)),l}),y=(t,n)=>{for(let l=0;l<n.length;l++){const h=n[l];if(h.address===t)return h.id;if(h.children){const r=y(t,h.children);if(r)return r}}};P(()=>a.path,()=>{const t=y(a.path,i.value);t&&(d.value=[t])},{immediate:!0});const v=({item:t})=>{const{originItemValue:n}=t;Je(n)};return(t,n)=>{const l=Re;return j(),Le(l,Be(t.$attrs,{items:p.value,theme:u(s).menuTheme,onSelect:v,openKeys:u(c),"onUpdate:openKeys":n[0]||(n[0]=h=>te(c)?c.value=h:null),selectedKeys:u(d),"onUpdate:selectedKeys":n[1]||(n[1]=h=>te(d)?d.value=h:null)}),null,16,["items","theme","openKeys","selectedKeys"])}}}),Qe={class:"logo"},Ye=["src"],et=$({__name:"LayoutLogo",setup(e){re(s=>({"5bed408c":u(o).headerFontColor,"781c7856":u(o).headerBgColor}));const a=W(),{themeCfg:o,collapsed:i}=K(a);return(s,d)=>(j(),se("div",Qe,[S("img",{src:u(o).logo,alt:""},null,8,Ye),He(S("span",{class:"title"},w(u(o).projectName),513),[[Te,!u(i)]])]))}}),vt=ie(et,[["__scopeId","data-v-d767059b"]]),tt={class:"layout-opt"},ot={class:"layout-opt-userinfo"},nt=["src"],at={class:"layout-opt-userinfo-name"},rt=$({__name:"LayoutOpt",setup(e){re(v=>({"3be1782c":u(s).headerFontColor,"18fa17f6":u(s).headerBgColor}));const a=ze(),o=W(),{local:i,themeCfg:s,userInfo:d}=K(o),{onOpenConfigDrawer:c,onToggleLocal:p}=o,m=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},y=()=>{Ie.remove(),a.push({path:"/login"})};return(v,t)=>{const n=Oe,l=Fe,h=We,r=Ke,b=je;return j(),se("div",tt,[S("div",{class:"layout-opt-i18n",onClick:t[0]||(t[0]=(...f)=>u(p)&&u(p)(...f))},[g(n,{ghost:"",size:"small"},{default:_(()=>[L(w(u(i)=="en"?"中文":"English"),1)]),_:1})]),S("div",{class:"layout-opt-theme",onClick:t[1]||(t[1]=(...f)=>u(c)&&u(c)(...f))},[g(u(Ne))]),S("div",{class:"layout-opt-github",onClick:m},[g(u(Pe))]),S("div",ot,[g(b,{placement:"bottomRight"},{content:_(()=>[g(n,{onClick:y,block:""},{default:_(()=>[L(" 退出 ")]),_:1})]),title:_(()=>[g(h,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:_(()=>[g(l,{label:"姓名"},{default:_(()=>[L(w(u(d).name),1)]),_:1}),g(l,{label:"用户名"},{default:_(()=>[L(w(u(d).username),1)]),_:1}),g(l,{label:"邮箱"},{default:_(()=>[L(w(u(d).email),1)]),_:1})]),_:1})]),default:_(()=>[g(r,null,{icon:_(()=>[S("img",{src:u(d).avatar||"",alt:""},null,8,nt)]),_:1}),S("span",at,w(u(d).name),1)]),_:1})])])}}}),bt=ie(rt,[["__scopeId","data-v-59d51c61"]]);export{vt as L,yt as _,bt as a,mt as b,pt as c,ft as d,ht as e};
