import{u as L,j as P,_ as S,e as V}from"./index-Ds-O4cjc.js";import{g as I,bj as F,s as w,u as M,L as O,ai as G,p as U,o as y,i as k,C as q,j as e,ax as B,bk as E,aE as j,q as T,P as g,X as z,a$ as A,R as i,bl as J,bm as X,aK as H,l as n,bn as Q,bo as W,w as a,J as r,a2 as Y,as as Z,at as ee,bp as te,bq as oe}from"./.pnpm-BJAmQtRs.js";const se=I({__name:"LayoutMenu",setup(x){const p=F(),m=L(),{menuTree:d,themeCfg:f}=w(m),u=M("gaius-admin-menu-selected",[],sessionStorage),s=M("gaius-admin-menu-open",[],sessionStorage),b=O(()=>v(d.value)),v=l=>l.map(t=>{let o={key:(t==null?void 0:t.id)||"",...t};return o.icon&&(o.icon=G("span",{class:`iconfont icon-${o.icon}`})),t.children&&(o.children=v(t.children)),o}),h=(l,t)=>{for(let o=0;o<t.length;o++){const c=t[o];if(c.address===l)return c.id;if(c.children){const C=h(l,c.children);if(C)return C}}};U(()=>p.path,()=>{const l=h(p.path,d.value);l&&(u.value=[l])},{immediate:!0});const K=({item:l})=>{const{originItemValue:t}=l;P(t)};return(l,t)=>{const o=E;return y(),k(o,q(l.$attrs,{items:b.value,theme:e(f).menuTheme,onSelect:K,openKeys:e(s),"onUpdate:openKeys":t[0]||(t[0]=c=>B(s)?s.value=c:null),selectedKeys:e(u),"onUpdate:selectedKeys":t[1]||(t[1]=c=>B(u)?u.value=c:null),style:{height:"100%","overflow-y":"auto"},class:"gaius-menu"}),null,16,["items","theme","openKeys","selectedKeys"])}}}),de=S(se,[["__scopeId","data-v-a976a1d0"]]),ne={class:"logo"},ae=["src"],le=I({__name:"LayoutLogo",setup(x){j(s=>({"2c5c8f8c":e(m).headerFontColor,32770384:e(m).headerBgColor}));const p=L(),{themeCfg:m,collapsed:d,systemSetting:f}=w(p),{onToggleCollapsed:u}=p;return(s,b)=>(y(),T("div",ne,[g("img",{src:e(f).projectLogo,alt:""},null,8,ae),z(g("span",{class:"title"},i(e(f).projectName),513),[[A,!e(d)]]),e(d)?(y(),k(e(J),{key:0,class:"trigger",onClick:e(u)},null,8,["onClick"])):(y(),k(e(X),{key:1,class:"trigger",onClick:e(u)},null,8,["onClick"]))]))}}),ge=S(le,[["__scopeId","data-v-b6204024"]]),ce={class:"layout-opt"},ue={class:"layout-opt-userinfo"},ie=["src"],re={class:"layout-opt-userinfo-name"},_e=I({__name:"LayoutOpt",setup(x){j(o=>({"81a4ae9a":e(u).headerFontColor,"20d6be3d":e(u).headerBgColor}));const p=H(),m=L(),d=O(()=>v.value.map(o=>o.roleName).join(",")),{local:f,themeCfg:u,userInfo:s,orgInfo:b,roleInfo:v}=w(m),{onOpenConfigDrawer:h,onToggleLocal:K}=m,l=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},t=()=>{V.remove(),p.push({path:"/login"})};return(o,c)=>{const C=Y,_=Z,$=ee,N=te,R=oe;return y(),T("div",ce,[g("div",{class:"layout-opt-theme",onClick:c[0]||(c[0]=(...D)=>e(h)&&e(h)(...D))},[n(e(Q))]),g("div",{class:"layout-opt-github",onClick:l},[n(e(W))]),g("div",ue,[n(R,{placement:"bottomRight"},{content:a(()=>[n(C,{onClick:t,block:""},{default:a(()=>[r(" 退出 ")]),_:1})]),title:a(()=>[n($,{title:"用户信息",size:"small",column:2,style:{width:"400px"}},{default:a(()=>[n(_,{label:"姓名"},{default:a(()=>[r(i(e(s).name),1)]),_:1}),n(_,{label:"用户名"},{default:a(()=>[r(i(e(s).username),1)]),_:1}),n(_,{label:"邮箱"},{default:a(()=>[r(i(e(s).email),1)]),_:1}),n(_,{label:"手机"},{default:a(()=>[r(i(e(s).phone),1)]),_:1}),n(_,{label:"角色"},{default:a(()=>[r(i(d.value),1)]),_:1}),n(_,{label:"所属机构"},{default:a(()=>[r(i(e(b).name),1)]),_:1}),n(_,{label:"上次登录IP",span:2},{default:a(()=>[r(i(e(s).lastLoginIp),1)]),_:1}),n(_,{label:"登录IP",span:2},{default:a(()=>[r(i(e(s).loginIp),1)]),_:1})]),_:1})]),default:a(()=>[n(N,null,{icon:a(()=>[g("img",{src:e(s).avatar||"",alt:""},null,8,ie)]),_:1}),g("span",re,i(e(s).name),1)]),_:1})])])}}}),fe=S(_e,[["__scopeId","data-v-983562f2"]]);export{ge as L,fe as a,de as b};
