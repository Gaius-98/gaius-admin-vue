import{g as C,t as D,o as n,h as t,w as g,l as x,i as o,U as E,L as R,q as I,y as $,F as b,av as T,aw as U,r as w,v as z,ay as G,az as J,n as M,Y as s,J as Y,R as j,C as u,K as H,$ as O,am as Q,T as W,a7 as X,aC as Z,a9 as oo,aB as eo,aA as ao,a0 as no,a2 as ro}from"./.pnpm-CCsI2FsW.js";import{g as f,s as h,c as to}from"./index-BCWsrkZE.js";const co=C({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(_){const m=_,{schema:r,formData:a}=D(m);return(l,p)=>{const v=E;return n(),t(v,{bodyStyle:{padding:0,"min-height":"40px"},title:o(r).controlProp.title,bordered:o(r).controlProp.bordered,hoverable:o(r).controlProp.hoverable},{default:g(()=>[x(K,{schema:o(r).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),lo=C({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(_){const m=_,{schema:r,formData:a}=D(m),l=R(()=>24/r.value.controlProp.colNumber);return(p,v)=>{const y=T,d=U;return n(),t(d,{gutter:o(r).controlProp.gutter},{default:g(()=>[(n(!0),I(b,null,$(o(r).controlProp.children,(i,P)=>(n(),t(y,{class:"gutter-col",span:l.value,key:P},{default:g(()=>[x(K,{schema:i,formData:o(a)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),so=C({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(_){const m=_,{schema:r,formData:a}=D(m),l=w(""),p=w(z());return r.value.controlProp.defaultExpanded.value&&(l.value=p.value),(v,y)=>{const d=G,i=J;return n(),t(i,{activeKey:l.value,"onUpdate:activeKey":y[0]||(y[0]=P=>l.value=P),bordered:o(r).controlProp.bordered,ghost:o(r).controlProp.ghost},{default:g(()=>[(n(),t(d,{key:p.value,header:o(r).controlProp.title,showArrow:o(r).controlProp.showArrow},{default:g(()=>[x(K,{schema:o(r).controlProp.children,formData:o(a)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),K=C({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(_){const m=_,{schema:r,formData:a}=D(m),l=w([]),p=w({});(()=>{r.value.map(d=>{"dict"in d.controlProp&&l.value.push(d.controlProp.dict)})})();const y=()=>{l.value.length>0&&to.getDict(l.value).then(d=>{const{code:i,data:P,msg:L}=d;i==200&&l.value.map(k=>{p.value[k]=P[k]})})};return M(()=>{y()}),(d,i)=>{const P=H,L=O,k=Q,F=W,V=X,q=Z,A=oo,B=eo,N=ao,S=no;return n(!0),I(b,null,$(o(r),e=>(n(),I(b,null,[["grid","card","collapse","divider"].includes(e.type)?(n(),I(b,{key:0},[e.type=="card"?(n(),t(co,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):s("",!0),e.type=="grid"?(n(),t(lo,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):s("",!0),e.type=="collapse"?(n(),t(so,{key:e.name,schema:e,formData:o(a)},null,8,["schema","formData"])):s("",!0),e.type=="divider"?(n(),t(P,u({key:3},e.controlProp,{key:e.name}),{default:g(()=>[Y(j(e.controlProp.title),1)]),_:2},1040)):s("",!0)],64)):(n(),t(S,{label:e.formItemProp.label,name:e.formItemProp.name,key:e.name,required:e.formItemProp.required},{default:g(()=>[e.type=="input"?(n(),t(L,u({key:0,value:o(f)(o(a),e.formItemProp.name),onChange:c=>o(h)(o(a),e.formItemProp.name,c.target.value)},e.controlProp),null,16,["value","onChange"])):s("",!0),e.type=="textarea"?(n(),t(k,u({key:1,value:o(f)(o(a),e.formItemProp.name),onChange:c=>o(h)(o(a),e.formItemProp.name,c.target.value)},e.controlProp),null,16,["value","onChange"])):s("",!0),e.type=="select"?(n(),t(F,u({key:2,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(h)(o(a),e.formItemProp.name,c)}),null,16,["value","options","onChange"])):s("",!0),e.type=="radio"?(n(),t(V,u({key:3,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(h)(o(a),e.formItemProp.name,c.target.value)}),null,16,["value","options","onChange"])):s("",!0),e.type=="date"?(n(),t(q,u({key:4,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:c=>o(h)(o(a),e.formItemProp.name,c)}),null,16,["value","onChange"])):s("",!0),e.type=="number"?(n(),t(A,u({key:5,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:c=>o(h)(o(a),e.formItemProp.name,c)}),null,16,["value","onChange"])):s("",!0),e.type=="checkbox"?(n(),t(B,u({key:6,value:o(f)(o(a),e.formItemProp.name)},e.controlProp,{options:p.value[e.controlProp.dict],onChange:c=>o(h)(o(a),e.formItemProp.name,c)}),null,16,["value","options","onChange"])):s("",!0),e.type=="switch"?(n(),t(N,u({key:7,checked:o(f)(o(a),e.formItemProp.name)},e.controlProp,{onChange:c=>o(h)(o(a),e.formItemProp.name,c)}),null,16,["checked","onChange"])):s("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),_o=C({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(_){const m=_,{schema:r,formData:a}=D(m);return(l,p)=>{const v=ro;return n(),t(v,u({model:o(a)},o(r).formConfig),{default:g(()=>[x(K,{formData:o(a),schema:o(r).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{_o as _};
