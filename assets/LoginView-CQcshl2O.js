import{b,e as S,az as C,s as x,m as R,aF as k,r as q,n as L,o as V,q as B,P as r,aR as I,h as d,R as F,j as t,w as s,a1 as M,J as N,ah as T,ai as U,X as j,Y as z,a9 as $,$ as H}from"./.pnpm-0Jz4sC39.js";import{r as P,u as A,c as D,e as E,_ as J}from"./index-hQiK7_g8.js";const m={login:o=>P({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>b({baseURL:"/prod",method:"get",url:"/auth/captcha"})},X=o=>(T("data-v-c02a4273"),o=o(),U(),o),Y={class:"login"},G={class:"login-right"},K={class:"project-title"},O={class:"login-right-form"},Q=X(()=>r("div",{class:"form-title"},"用户登录",-1)),W=["innerHTML"],Z=S({__name:"LoginView",setup(o){C(l=>({"29edd0a6":d(i).colorPrimary}));const h=A(),{themeCfg:i}=x(h),a=R({username:"test",password:"test",captcha:""}),g=k(),f=()=>{m.login(a).then(l=>{const{code:e,data:u}=l;e==200&&(D.set(u),g.push("/home"),E.accessRecord())})},p=q(""),_=async()=>{const{data:l}=await m.getCaptcha();p.value=l};return L(()=>{_()}),(l,e)=>{const u=j,c=z,v=$,w=H,y=M;return V(),B("div",Y,[r("div",{class:"login-left",style:I({background:`url(${d(i).loginBg})`,backgroundSize:"100% 100%"})},null,4),r("div",G,[r("div",K,F(d(i).projectName),1),r("div",O,[Q,t(y,{model:a,"label-col":{span:8},hideRequiredMark:"",onFinish:f},{default:s(()=>[t(c,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[t(u,{value:a.username,"onUpdate:value":e[0]||(e[0]=n=>a.username=n)},null,8,["value"])]),_:1}),t(c,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[t(v,{value:a.password,"onUpdate:value":e[1]||(e[1]=n=>a.password=n)},null,8,["value"])]),_:1}),t(c,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[t(u,{value:a.captcha,"onUpdate:value":e[3]||(e[3]=n=>a.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:p.value,onClick:e[2]||(e[2]=n=>_()),style:{height:"100%"}},null,8,W)]),_:1},8,["value"])]),_:1}),t(c,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[t(w,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[N(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),ae=J(Z,[["__scopeId","data-v-c02a4273"]]);export{ae as default};
