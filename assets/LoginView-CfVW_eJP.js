import{a5 as C,b2 as S,d as x,D as I,E as V,S as F,aF as L,r as q,b as B,F as M,M as N,V as r,O as k,I as _,g as t,H as s,aC as R,bu as T,N as U,a2 as H,a3 as j,X as D}from"./index-CdY1EXP5.js";import{F as E,I as A,_ as O,a as P,B as X}from"./index-BtP1Z3dV.js";const m={login:o=>C({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>S({baseURL:"/prod",method:"get",url:"/auth/captcha"})},h=o=>(H("data-v-511488d6"),o=o(),j(),o),$={class:"login"},z=h(()=>r("div",{class:"login-left"},null,-1)),G={class:"login-right"},J={class:"project-title"},K={class:"login-right-form"},Q=h(()=>r("div",{class:"form-title"},"用户登录",-1)),W=["innerHTML"],Y=x({__name:"LoginView",setup(o){R(l=>({"8e1a6daa":_(c).colorPrimary}));const g=I(),{themeCfg:c}=V(g),a=F({username:"",password:"",captcha:""}),f=L(),v=()=>{m.login(a).then(l=>{const{code:e,data:u}=l;e==200&&(T.set(u),f.push("/home"))})},d=q(""),p=async()=>{const{data:l}=await m.getCaptcha();d.value=l};return B(()=>{p()}),(l,e)=>{const u=A,i=O,w=P,b=X,y=E;return M(),N("div",$,[z,r("div",G,[r("div",J,k(_(c).projectName),1),r("div",K,[Q,t(y,{model:a,"label-col":{span:8},hideRequiredMark:"",onFinish:v},{default:s(()=>[t(i,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[t(u,{value:a.username,"onUpdate:value":e[0]||(e[0]=n=>a.username=n)},null,8,["value"])]),_:1}),t(i,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[t(w,{value:a.password,"onUpdate:value":e[1]||(e[1]=n=>a.password=n)},null,8,["value"])]),_:1}),t(i,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[t(u,{value:a.captcha,"onUpdate:value":e[3]||(e[3]=n=>a.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:d.value,onClick:e[2]||(e[2]=n=>p()),style:{height:"100%"}},null,8,W)]),_:1},8,["value"])]),_:1}),t(i,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[t(b,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[U(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),te=D(Y,[["__scopeId","data-v-511488d6"]]);export{te as default};
