import{d as O,$ as R,b as p,aS as x,c as M,w as H,cB as W,cC as B,_ as f,bD as D}from"./index-CmoA2GoM.js";const E=O({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(i,b){let{slots:l}=b;const n=R({width:0,height:0,offsetHeight:0,offsetWidth:0});let h=null,s=null;const r=()=>{s&&(s.disconnect(),s=null)},v=e=>{const{onResize:t}=i,o=e[0].target,{width:w,height:C}=o.getBoundingClientRect(),{offsetWidth:d,offsetHeight:c}=o,g=Math.floor(w),u=Math.floor(C);if(n.width!==g||n.height!==u||n.offsetWidth!==d||n.offsetHeight!==c){const m={width:g,height:u,offsetWidth:d,offsetHeight:c};f(n,m),t&&Promise.resolve().then(()=>{t(f(f({},m),{offsetWidth:d,offsetHeight:c}),o)})}},z=D(),a=()=>{const{disabled:e}=i;if(e){r();return}const t=W(z);t!==h&&(r(),h=t),!s&&t&&(s=new B(v),s.observe(t))};return p(()=>{a()}),x(()=>{a()}),M(()=>{r()}),H(()=>i.disabled,()=>{a()},{flush:"post"}),()=>{var e;return(e=l.default)===null||e===void 0?void 0:e.call(l)[0]}}});export{E as R};
