import{C as ue,_ as me,a as fe,c as _e}from"./index-Db1QJNWF.js";import{G as Z,aF as x,f as U,P as N,aD as ee,m as ve,p as he,b$ as ge,_ as B,aL as be,c0 as ye,d as S,k as te,r as T,br as $e,w as xe,x as re,t as le,e as z,g as v,i as F,c1 as Ce,b2 as Pe,c2 as Ie,bX as we,bv as ne,bz as ke,bu as Ae,s as De,aC as Se,y as Ke,h as Be,v as Ue,T as Re,ak as E,J as u,U as _,M as D,Q as r,L as O,a9 as se,R as j,am as Te,b as Ee,a3 as $,O as Me,X as He,al as w,a4 as Le,a5 as Ne}from"./index-WygQ6GTr.js";import{c as Oe}from"./common-CsMbJs6O.js";import{I as je}from"./index-B4yLT25j.js";import{S as ze,_ as Fe}from"./index-BEJX6f1I.js";import{D as Ve,_ as Ge}from"./index-DWpMSmtV.js";import{_ as Xe}from"./index-C_hcLp1K.js";import{_ as qe}from"./index-CbOnQqH9.js";const We=()=>({prefixCls:String,activeKey:Z([Array,Number,String]),defaultActiveKey:Z([Array,Number,String]),accordion:x(),destroyInactivePanel:x(),bordered:x(),expandIcon:U(),openAnimation:N.object,expandIconPosition:ee(),collapsible:ee(),ghost:x(),onChange:U(),"onUpdate:activeKey":U()}),ce=()=>({openAnimation:N.object,prefixCls:String,header:N.any,headerClass:String,showArrow:x(),isActive:x(),destroyInactivePanel:x(),disabled:x(),accordion:x(),forceRender:x(),expandIcon:U(),extra:N.any,panelKey:Z(),collapsible:ee(),role:String,onItemClick:U()}),Je=n=>{const{componentCls:e,collapseContentBg:a,padding:t,collapseContentPaddingHorizontal:c,collapseHeaderBg:p,collapseHeaderPadding:d,collapsePanelBorderRadius:f,lineWidth:m,lineType:h,colorBorder:g,colorText:C,colorTextHeading:b,colorTextDisabled:P,fontSize:k,lineHeight:I,marginSM:A,paddingSM:l,motionDurationSlow:i,fontSizeIcon:o}=n,s=`${m}px ${h} ${g}`;return{[e]:B(B({},be(n)),{backgroundColor:p,border:s,borderBottom:0,borderRadius:`${f}px`,"&-rtl":{direction:"rtl"},[`& > ${e}-item`]:{borderBottom:s,"&:last-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`0 0 ${f}px ${f}px`}},[`> ${e}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:d,color:b,lineHeight:I,cursor:"pointer",transition:`all ${i}, visibility 0s`,[`> ${e}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${e}-expand-icon`]:{height:k*I,display:"flex",alignItems:"center",paddingInlineEnd:A},[`${e}-arrow`]:B(B({},ye()),{fontSize:o,svg:{transition:`transform ${i}`}}),[`${e}-header-text`]:{marginInlineEnd:"auto"}},[`${e}-header-collapsible-only`]:{cursor:"default",[`${e}-header-text`]:{flex:"none",cursor:"pointer"},[`${e}-expand-icon`]:{cursor:"pointer"}},[`${e}-icon-collapsible-only`]:{cursor:"default",[`${e}-expand-icon`]:{cursor:"pointer"}},[`&${e}-no-arrow`]:{[`> ${e}-header`]:{paddingInlineStart:l}}},[`${e}-content`]:{color:C,backgroundColor:a,borderTop:s,[`& > ${e}-content-box`]:{padding:`${t}px ${c}px`},"&-hidden":{display:"none"}},[`${e}-item:last-child`]:{[`> ${e}-content`]:{borderRadius:`0 0 ${f}px ${f}px`}},[`& ${e}-item-disabled > ${e}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:P,cursor:"not-allowed"}},[`&${e}-icon-position-end`]:{[`& > ${e}-item`]:{[`> ${e}-header`]:{[`${e}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:A}}}}})}},Qe=n=>{const{componentCls:e}=n,a=`> ${e}-item > ${e}-header ${e}-arrow svg`;return{[`${e}-rtl`]:{[a]:{transform:"rotate(180deg)"}}}},Ye=n=>{const{componentCls:e,collapseHeaderBg:a,paddingXXS:t,colorBorder:c}=n;return{[`${e}-borderless`]:{backgroundColor:a,border:0,[`> ${e}-item`]:{borderBottom:`1px solid ${c}`},[`
        > ${e}-item:last-child,
        > ${e}-item:last-child ${e}-header
      `]:{borderRadius:0},[`> ${e}-item:last-child`]:{borderBottom:0},[`> ${e}-item > ${e}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${e}-item > ${e}-content > ${e}-content-box`]:{paddingTop:t}}}},Ze=n=>{const{componentCls:e,paddingSM:a}=n;return{[`${e}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${e}-item`]:{borderBottom:0,[`> ${e}-content`]:{backgroundColor:"transparent",border:0,[`> ${e}-content-box`]:{paddingBlock:a}}}}}},eo=ve("Collapse",n=>{const e=he(n,{collapseContentBg:n.colorBgContainer,collapseHeaderBg:n.colorFillAlter,collapseHeaderPadding:`${n.paddingSM}px ${n.padding}px`,collapsePanelBorderRadius:n.borderRadiusLG,collapseContentPaddingHorizontal:16});return[Je(e),Ye(e),Ze(e),Qe(e),ge(e)]});function ae(n){let e=n;if(!Array.isArray(e)){const a=typeof e;e=a==="number"||a==="string"?[e]:[]}return e.map(a=>String(a))}const R=S({compatConfig:{MODE:3},name:"ACollapse",inheritAttrs:!1,props:te(We(),{accordion:!1,destroyInactivePanel:!1,bordered:!0,expandIconPosition:"start"}),slots:Object,setup(n,e){let{attrs:a,slots:t,emit:c}=e;const p=T(ae($e([n.activeKey,n.defaultActiveKey])));xe(()=>n.activeKey,()=>{p.value=ae(n.activeKey)},{deep:!0});const{prefixCls:d,direction:f,rootPrefixCls:m}=re("collapse",n),[h,g]=eo(d),C=le(()=>{const{expandIconPosition:l}=n;return l!==void 0?l:f.value==="rtl"?"end":"start"}),b=l=>{const{expandIcon:i=t.expandIcon}=n,o=i?i(l):v(ke,{rotate:l.isActive?90:void 0},null);return v("div",{class:[`${d.value}-expand-icon`,g.value],onClick:()=>["header","icon"].includes(n.collapsible)&&k(l.panelKey)},[Ae(Array.isArray(i)?o[0]:o)?ne(o,{class:`${d.value}-arrow`},!1):o])},P=l=>{n.activeKey===void 0&&(p.value=l);const i=n.accordion?l[0]:l;c("update:activeKey",i),c("change",i)},k=l=>{let i=p.value;if(n.accordion)i=i[0]===l?[]:[l];else{i=[...i];const o=i.indexOf(l);o>-1?i.splice(o,1):i.push(l)}P(i)},I=(l,i)=>{var o,s,K;if(Ie(l))return;const y=p.value,{accordion:M,destroyInactivePanel:X,collapsible:H,openAnimation:q}=n,W=q||we(`${m.value}-motion-collapse`),L=String((o=l.key)!==null&&o!==void 0?o:i),{header:ie=(K=(s=l.children)===null||s===void 0?void 0:s.header)===null||K===void 0?void 0:K.call(s),headerClass:de,collapsible:J,disabled:oe}=l.props||{};let Q=!1;M?Q=y[0]===L:Q=y.indexOf(L)>-1;let Y=J??H;(oe||oe==="")&&(Y="disabled");const pe={key:L,panelKey:L,header:ie,headerClass:de,isActive:Q,prefixCls:d.value,destroyInactivePanel:X,openAnimation:W,accordion:M,onItemClick:Y==="disabled"?null:k,expandIcon:b,collapsible:Y};return ne(l,pe)},A=()=>{var l;return Pe((l=t.default)===null||l===void 0?void 0:l.call(t)).map(I)};return()=>{const{accordion:l,bordered:i,ghost:o}=n,s=z(d.value,{[`${d.value}-borderless`]:!i,[`${d.value}-icon-position-${C.value}`]:!0,[`${d.value}-rtl`]:f.value==="rtl",[`${d.value}-ghost`]:!!o,[a.class]:!!a.class},g.value);return h(v("div",F(F({class:s},Ce(a)),{},{style:a.style,role:l?"tablist":null}),[A()]))}}}),oo=S({compatConfig:{MODE:3},name:"PanelContent",props:ce(),setup(n,e){let{slots:a}=e;const t=De(!1);return Se(()=>{(n.isActive||n.forceRender)&&(t.value=!0)}),()=>{var c;if(!t.value)return null;const{prefixCls:p,isActive:d,role:f}=n;return v("div",{class:z(`${p}-content`,{[`${p}-content-active`]:d,[`${p}-content-inactive`]:!d}),role:f},[v("div",{class:`${p}-content-box`},[(c=a.default)===null||c===void 0?void 0:c.call(a)])])}}}),V=S({compatConfig:{MODE:3},name:"ACollapsePanel",inheritAttrs:!1,props:te(ce(),{showArrow:!0,isActive:!1,onItemClick(){},headerClass:"",forceRender:!1}),slots:Object,setup(n,e){let{slots:a,emit:t,attrs:c}=e;Ke(n.disabled===void 0,"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');const{prefixCls:p}=re("collapse",n),d=()=>{t("itemClick",n.panelKey)},f=m=>{(m.key==="Enter"||m.keyCode===13||m.which===13)&&d()};return()=>{var m,h;const{header:g=(m=a.header)===null||m===void 0?void 0:m.call(a),headerClass:C,isActive:b,showArrow:P,destroyInactivePanel:k,accordion:I,forceRender:A,openAnimation:l,expandIcon:i=a.expandIcon,extra:o=(h=a.extra)===null||h===void 0?void 0:h.call(a),collapsible:s}=n,K=s==="disabled",y=p.value,M=z(`${y}-header`,{[C]:C,[`${y}-header-collapsible-only`]:s==="header",[`${y}-icon-collapsible-only`]:s==="icon"}),X=z({[`${y}-item`]:!0,[`${y}-item-active`]:b,[`${y}-item-disabled`]:K,[`${y}-no-arrow`]:!P,[`${c.class}`]:!!c.class});let H=v("i",{class:"arrow"},null);P&&typeof i=="function"&&(H=i(n));const q=Be(v(oo,{prefixCls:y,isActive:b,forceRender:A,role:I?"tabpanel":null},{default:a.default}),[[Ue,b]]),W=B({appear:!1,css:!1},l);return v("div",F(F({},c),{},{class:X}),[v("div",{class:M,onClick:()=>!["header","icon"].includes(s)&&d(),role:I?"tab":"button",tabindex:K?-1:0,"aria-expanded":b,onKeypress:f},[P&&H,v("span",{onClick:()=>s==="header"&&d(),class:`${y}-header-text`},[g]),o&&v("div",{class:`${y}-extra`},[o])]),v(Re,W,{default:()=>[!k||b?q:null]})])}}});R.Panel=V;R.install=function(n){return n.component(R.name,R),n.component(V.name,V),n};const no=S({__name:"LowCodeCard",props:{schema:{},formData:{}},setup(n){const e=n,{schema:a,formData:t}=E(e);return(c,p)=>{const d=ue;return u(),_(d,{bodyStyle:{padding:0,"min-height":"40px"},title:r(a).controlProp.title,bordered:r(a).controlProp.bordered,hoverable:r(a).controlProp.hoverable},{default:D(()=>[v(G,{schema:r(a).controlProp.children,formData:r(t)},null,8,["schema","formData"])]),_:1},8,["title","bordered","hoverable"])}}}),ao=S({__name:"LowCodeGrid",props:{schema:{},formData:{}},setup(n){const e=n,{schema:a,formData:t}=E(e),c=le(()=>24/a.value.controlProp.colNumber);return(p,d)=>{const f=me,m=fe;return u(),_(m,{gutter:r(a).controlProp.gutter},{default:D(()=>[(u(!0),O(j,null,se(r(a).controlProp.children,(h,g)=>(u(),_(f,{class:"gutter-col",span:c.value,key:g},{default:D(()=>[v(G,{schema:h,formData:r(t)},null,8,["schema","formData"])]),_:2},1032,["span"]))),128))]),_:1},8,["gutter"])}}}),to=S({__name:"LowCodeCollapse",props:{schema:{},formData:{}},setup(n){const e=n,{schema:a,formData:t}=E(e),c=T(""),p=T(Te());return a.value.controlProp.defaultExpanded.value&&(c.value=p.value),(d,f)=>{const m=V,h=R;return u(),_(h,{activeKey:c.value,"onUpdate:activeKey":f[0]||(f[0]=g=>c.value=g),bordered:r(a).controlProp.bordered,ghost:r(a).controlProp.ghost},{default:D(()=>[(u(),_(m,{key:p.value,header:r(a).controlProp.title,showArrow:r(a).controlProp.showArrow},{default:D(()=>[v(G,{schema:r(a).controlProp.children,formData:r(t)},null,8,["schema","formData"])]),_:1},8,["header","showArrow"]))]),_:1},8,["activeKey","bordered","ghost"])}}}),G=S({__name:"LowCodeFormItem",props:{schema:{},formData:{}},setup(n){const e=n,{schema:a,formData:t}=E(e),c=T([]),p=T({});(()=>{a.value.map(m=>{"dict"in m.controlProp&&c.value.push(m.controlProp.dict)})})();const f=()=>{c.value.length>0&&Oe.getDict(c.value).then(m=>{const{code:h,data:g,msg:C}=m;h==200&&c.value.map(b=>{p.value[b]=g[b]})})};return Ee(()=>{f()}),(m,h)=>{const g=Xe,C=je,b=ze,P=Fe,k=Ve,I=qe,A=_e,l=Ge,i=Le;return u(!0),O(j,null,se(r(a),o=>(u(),O(j,null,[["grid","card","collapse","divider"].includes(o.type)?(u(),O(j,{key:0},[o.type=="card"?(u(),_(no,{key:o.name,schema:o,formData:r(t)},null,8,["schema","formData"])):$("",!0),o.type=="grid"?(u(),_(ao,{key:o.name,schema:o,formData:r(t)},null,8,["schema","formData"])):$("",!0),o.type=="collapse"?(u(),_(to,{key:o.name,schema:o,formData:r(t)},null,8,["schema","formData"])):$("",!0),o.type=="divider"?(u(),_(g,w({key:3,ref_for:!0},o.controlProp,{key:o.name}),{default:D(()=>[Me(He(o.controlProp.title),1)]),_:2},1040)):$("",!0)],64)):(u(),_(i,{label:o.formItemProp.label,name:o.formItemProp.name,key:o.name,required:o.formItemProp.required},{default:D(()=>[o.type=="input"?(u(),_(C,w({key:0,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp),null,16,["value","onUpdate:value"])):$("",!0),o.type=="select"?(u(),_(b,w({key:1,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp,{options:p.value[o.controlProp.dict]}),null,16,["value","onUpdate:value","options"])):$("",!0),o.type=="radio"?(u(),_(P,w({key:2,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp,{options:p.value[o.controlProp.dict]}),null,16,["value","onUpdate:value","options"])):$("",!0),o.type=="date"?(u(),_(k,w({key:3,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp),null,16,["value","onUpdate:value"])):$("",!0),o.type=="number"?(u(),_(I,w({key:4,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp),null,16,["value","onUpdate:value"])):$("",!0),o.type=="checkbox"?(u(),_(A,w({key:5,value:r(t)[o.formItemProp.name],"onUpdate:value":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp,{options:p.value[o.controlProp.dict]}),null,16,["value","onUpdate:value","options"])):$("",!0),o.type=="switch"?(u(),_(l,w({key:6,checked:r(t)[o.formItemProp.name],"onUpdate:checked":s=>r(t)[o.formItemProp.name]=s,ref_for:!0},o.controlProp),null,16,["checked","onUpdate:checked"])):$("",!0)]),_:2},1032,["label","name","required"]))],64))),256)}}}),fo=S({__name:"LowCodeForm",props:{schema:{},formData:{}},setup(n){const e=n,{schema:a,formData:t}=E(e);return(c,p)=>{const d=Ne;return u(),_(d,w({model:r(t)},r(a).formConfig),{default:D(()=>[v(G,{formData:r(t),schema:r(a).formCfgItemList},null,8,["formData","schema"])]),_:1},16,["model"])}}});export{R as C,V as _,fo as a};
