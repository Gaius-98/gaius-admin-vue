import{f as v,u as x,_ as T,c as q}from"./index-ChcIlpw2.js";import{e as B,bc as D,s as K,u as M,L as N,ac as V,p as j,o as h,g as L,C as G,h as e,aq as O,bd as U,ay as I,q as R,P as p,aG as E,aX as F,R as m,be as P,bf as z,aE as A,j as i,w as r,J as f,bg as J,bh as X,$ as H,an as Q,ao as W,bi as Y,bj as Z}from"./.pnpm-Ciqk_aY1.js";const ee=g=>{const{type:u,address:o,openType:l}=g;switch(u){case"front":l=="_self"?v.push({path:o}):l=="_blank"&&window.open(o,"_blank");break;case"page":break;case"form":v.push({path:"/apply/form",query:{id:o}});break;case"table":v.push({path:"/apply/table",query:{id:o}});break;case"iframe":v.push({path:"/apply/iframe",query:{id:encodeURIComponent(o)}});break}},pe=B({__name:"LayoutMenu",setup(g){const u=D(),o=x(),{menuTree:l,themeCfg:_}=K(o),a=M("gaius-admin-menu-selected",[],sessionStorage),d=M("gaius-admin-menu-open",[],sessionStorage),y=N(()=>b(l.value)),b=s=>s.map(t=>{let n={key:(t==null?void 0:t.id)||"",...t};return n.icon&&(n.icon=V("span",{class:`iconfont icon-${n.icon}`})),t.children&&(n.children=b(t.children)),n}),k=(s,t)=>{for(let n=0;n<t.length;n++){const c=t[n];if(c.address===s)return c.id;if(c.children){const C=k(s,c.children);if(C)return C}}};j(()=>u.path,()=>{const s=k(u.path,l.value);s&&(a.value=[s])},{immediate:!0});const w=({item:s})=>{const{originItemValue:t}=s;ee(t)};return(s,t)=>{const n=U;return h(),L(n,G(s.$attrs,{items:y.value,theme:e(_).menuTheme,onSelect:w,openKeys:e(d),"onUpdate:openKeys":t[0]||(t[0]=c=>O(d)?d.value=c:null),selectedKeys:e(a),"onUpdate:selectedKeys":t[1]||(t[1]=c=>O(a)?a.value=c:null)}),null,16,["items","theme","openKeys","selectedKeys"])}}}),te={class:"logo"},se=["src"],oe=B({__name:"LayoutLogo",setup(g){I(a=>({"1bb352f7":e(o).headerFontColor,c6ebacfe:e(o).headerBgColor}));const u=x(),{themeCfg:o,collapsed:l}=K(u),{onToggleCollapsed:_}=u;return(a,d)=>(h(),R("div",te,[p("img",{src:e(o).logo,alt:""},null,8,se),E(p("span",{class:"title"},m(e(o).projectName),513),[[F,!e(l)]]),e(l)?(h(),L(e(P),{key:0,class:"trigger",onClick:e(_)},null,8,["onClick"])):(h(),L(e(z),{key:1,class:"trigger",onClick:e(_)},null,8,["onClick"]))]))}}),_e=T(oe,[["__scopeId","data-v-a98263ca"]]),ne={class:"layout-opt"},ae={class:"layout-opt-userinfo"},le=["src"],ce={class:"layout-opt-userinfo-name"},ie=B({__name:"LayoutOpt",setup(g){I(w=>({"3be1782c":e(_).headerFontColor,"18fa17f6":e(_).headerBgColor}));const u=A(),o=x(),{local:l,themeCfg:_,userInfo:a}=K(o),{onOpenConfigDrawer:d,onToggleLocal:y}=o,b=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},k=()=>{q.remove(),u.push({path:"/login"})};return(w,s)=>{const t=H,n=Q,c=W,C=Y,$=Z;return h(),R("div",ne,[p("div",{class:"layout-opt-i18n",onClick:s[0]||(s[0]=(...S)=>e(y)&&e(y)(...S))},[i(t,{ghost:"",size:"small"},{default:r(()=>[f(m(e(l)=="en"?"中文":"English"),1)]),_:1})]),p("div",{class:"layout-opt-theme",onClick:s[1]||(s[1]=(...S)=>e(d)&&e(d)(...S))},[i(e(J))]),p("div",{class:"layout-opt-github",onClick:b},[i(e(X))]),p("div",ae,[i($,{placement:"bottomRight"},{content:r(()=>[i(t,{onClick:k,block:""},{default:r(()=>[f(" 退出 ")]),_:1})]),title:r(()=>[i(c,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:r(()=>[i(n,{label:"姓名"},{default:r(()=>[f(m(e(a).name),1)]),_:1}),i(n,{label:"用户名"},{default:r(()=>[f(m(e(a).username),1)]),_:1}),i(n,{label:"邮箱"},{default:r(()=>[f(m(e(a).email),1)]),_:1})]),_:1})]),default:r(()=>[i(C,null,{icon:r(()=>[p("img",{src:e(a).avatar||"",alt:""},null,8,le)]),_:1}),p("span",ce,m(e(a).name),1)]),_:1})])])}}}),de=T(ie,[["__scopeId","data-v-59d51c61"]]);export{_e as L,pe as _,de as a};
