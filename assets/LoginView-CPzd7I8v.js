import{a9 as y,aa as S,d as C,R as x,S as V,a2 as B,av as I,e as L,B as k,N as q,O as N,a4 as r,a1 as R,W as _,k as a,V as s,ar as F,bp as M,a0 as T,al as U,am as j,Q as H}from"./index-zZenVJyi.js";import{F as A,I as D,_ as E,b as O,B as P}from"./index-D9b0YG0K.js";const m={login:o=>y({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>S({baseURL:"/prod",method:"get",url:"/auth/captcha"})},Q=o=>(U("data-v-0bb1aa67"),o=o(),j(),o),W={class:"login"},$={class:"login-left"},z={class:"project-title"},G={class:"login-right"},J={class:"login-right-form"},K=Q(()=>r("div",{class:"form-title"},"用户登录",-1)),X=["innerHTML"],Y=C({__name:"LoginView",setup(o){F(l=>({a213418c:_(i).colorPrimary}));const h=x(),{themeCfg:i}=V(h),t=B({username:"",password:"",captcha:""}),f=I(),g=()=>{m.login(t).then(l=>{const{code:e,data:u}=l;e==200&&(M.set(u),f.push("/home"))})},p=L(""),d=async()=>{const{data:l}=await m.getCaptcha();p.value=l};return k(()=>{d()}),(l,e)=>{const u=D,c=E,v=O,b=P,w=A;return q(),N("div",W,[r("div",$,[r("div",z,R(_(i).projectName),1)]),r("div",G,[r("div",J,[K,a(w,{model:t,"label-col":{span:8},hideRequiredMark:"",onFinish:g},{default:s(()=>[a(c,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[a(u,{value:t.username,"onUpdate:value":e[0]||(e[0]=n=>t.username=n)},null,8,["value"])]),_:1}),a(c,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[a(v,{value:t.password,"onUpdate:value":e[1]||(e[1]=n=>t.password=n)},null,8,["value"])]),_:1}),a(c,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[a(u,{value:t.captcha,"onUpdate:value":e[3]||(e[3]=n=>t.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:p.value,onClick:e[2]||(e[2]=n=>d()),style:{height:"100%"}},null,8,X)]),_:1},8,["value"])]),_:1}),a(c,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[a(b,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[T(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),ae=H(Y,[["__scopeId","data-v-0bb1aa67"]]);export{ae as default};
