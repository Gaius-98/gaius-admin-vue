import{u as S,j as P,_ as I,e as V}from"./index-0f-9Y9PV.js";import{g as w,bj as F,s as x,u as B,L as j,ai as G,p as U,o as y,i as L,C as q,j as e,ax as O,bk as E,aE as T,q as $,P as g,X as z,a$ as A,R as i,bl as J,bm as X,aK as H,l as n,bn as Q,bo as W,w as a,J as r,a2 as Y,as as Z,at as ee,bp as te,bq as oe}from"./.pnpm-BJAmQtRs.js";const se=w({__name:"LayoutMenu",setup(K){const p=F(),m=S(),{menuTree:d,themeCfg:f}=x(m),u=B("gaius-admin-menu-selected",[],sessionStorage),s=B("gaius-admin-menu-open",[],sessionStorage),b=j(()=>v(d.value)),v=l=>l.map(t=>{let o={key:(t==null?void 0:t.id)||"",...t};return o.icon&&(o.icon=G("span",{class:`iconfont icon-${o.icon}`})),t.children&&(o.children=v(t.children)),o}),h=(l,t)=>{for(let o=0;o<t.length;o++){const c=t[o];if(c.address===l)return c.id;if(c.children){const C=h(l,c.children);if(C)return C}}};U(()=>p.path,()=>{const l=h(p.path,d.value);l&&(u.value=[l])},{immediate:!0});const M=({item:l})=>{const{originItemValue:t}=l;P(t)};return(l,t)=>{const o=E;return y(),L(o,q(l.$attrs,{items:b.value,theme:e(f).menuTheme,onSelect:M,openKeys:e(s),"onUpdate:openKeys":t[0]||(t[0]=c=>O(s)?s.value=c:null),selectedKeys:e(u),"onUpdate:selectedKeys":t[1]||(t[1]=c=>O(u)?u.value=c:null),style:{height:"100%","overflow-y":"auto"},class:"gaius-menu"}),null,16,["items","theme","openKeys","selectedKeys"])}}}),de=I(se,[["__scopeId","data-v-a976a1d0"]]),ne={class:"logo"},ae=["src"],le=w({__name:"LayoutLogo",setup(K){T(s=>({"2c5c8f8c":e(m).headerFontColor,32770384:e(m).headerBgColor}));const p=S(),{themeCfg:m,collapsed:d,systemSetting:f}=x(p),{onToggleCollapsed:u}=p;return(s,b)=>(y(),$("div",ne,[g("img",{src:e(f).projectLogo,alt:""},null,8,ae),z(g("span",{class:"title"},i(e(f).projectName),513),[[A,!e(d)]]),e(d)?(y(),L(e(J),{key:0,class:"trigger",onClick:e(u)},null,8,["onClick"])):(y(),L(e(X),{key:1,class:"trigger",onClick:e(u)},null,8,["onClick"]))]))}}),ge=I(le,[["__scopeId","data-v-b6204024"]]),ce={class:"layout-opt"},ue={class:"layout-opt-userinfo"},ie=["src"],re={class:"layout-opt-userinfo-name"},_e=w({__name:"LayoutOpt",setup(K){T(o=>({"04ccf24e":e(u).headerFontColor,"5d61b298":e(u).headerBgColor}));const p=H(),m=S(),d=j(()=>v.value.map(o=>o.roleName).join(",")),{local:f,themeCfg:u,userInfo:s,orgInfo:b,roleInfo:v}=x(m),{onOpenConfigDrawer:h,onToggleLocal:M}=m,l=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},t=()=>{V.remove(),p.push({path:"/login"})};return(o,c)=>{const C=Y,_=Z,N=ee,R=te,D=oe;return y(),$("div",ce,[g("div",{class:"layout-opt-theme",onClick:c[0]||(c[0]=(...k)=>e(h)&&e(h)(...k))},[n(e(Q))]),g("div",{class:"layout-opt-github",onClick:l},[n(e(W))]),g("div",ue,[n(D,{placement:"bottomRight"},{content:a(()=>[n(C,{onClick:t,block:""},{default:a(()=>[r(" 退出 ")]),_:1})]),title:a(()=>[n(N,{title:"用户信息",size:"small",column:2,style:{width:"400px"}},{default:a(()=>[n(_,{label:"姓名"},{default:a(()=>[r(i(e(s).name),1)]),_:1}),n(_,{label:"用户名"},{default:a(()=>[r(i(e(s).username),1)]),_:1}),n(_,{label:"邮箱"},{default:a(()=>[r(i(e(s).email),1)]),_:1}),n(_,{label:"手机"},{default:a(()=>[r(i(e(s).phone),1)]),_:1}),n(_,{label:"角色"},{default:a(()=>[r(i(d.value),1)]),_:1}),n(_,{label:"所属机构"},{default:a(()=>{var k;return[r(i((k=e(b))==null?void 0:k.name),1)]}),_:1}),n(_,{label:"上次登录IP",span:2},{default:a(()=>[r(i(e(s).lastLoginIp),1)]),_:1}),n(_,{label:"登录IP",span:2},{default:a(()=>[r(i(e(s).loginIp),1)]),_:1})]),_:1})]),default:a(()=>[n(R,null,{icon:a(()=>[g("img",{src:e(s).avatar||"",alt:""},null,8,ie)]),_:1}),g("span",re,i(e(s).name),1)]),_:1})])])}}}),fe=I(_e,[["__scopeId","data-v-9a96b44a"]]);export{ge as L,fe as a,de as b};
