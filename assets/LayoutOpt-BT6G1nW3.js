import{g as C,u as L,b as T,f as V}from"./index-BiYaJyuZ.js";import{s as B}from"./pinia-DfzYFrYR.js";import{Y as N,a4 as U,a5 as $,a6 as q,a7 as E}from"./@ant-design-0mnrYJ2t.js";import{u as M}from"./@vueuse-D7-wZPRK.js";import{b as F,u as G}from"./vue-router-D1iaMedC.js";import{W as j,B as z,D as P,x as W,X,Y}from"./ant-design-vue-CaKXcGcF.js";import{d as K,m as A,h as J,w as H,R as h,W as x,X as Q,u as e,K as O,af as D,S as I,U as p,x as Z,E as ee,V as _,c as i,a8 as c,J as f}from"./@vue-fHF42jnH.js";const te=g=>{const{type:u,address:o,openType:r}=g;switch(u){case"front":r=="_self"?C.push({path:o}):r=="_blank"&&window.open(o,"_blank");break;case"page":break;case"form":C.push({path:"/preview/form",query:{id:o}});break;case"table":C.push({path:"/preview/table",query:{id:o}});break;case"iframe":C.push({path:"/preview/iframe",query:{id:encodeURIComponent(o)}});break}},ge=K({__name:"LayoutMenu",setup(g){const u=F(),o=L(),{menuTree:r,themeCfg:m}=B(o),a=M("gaius-admin-menu-selected",[],sessionStorage),d=M("gaius-admin-menu-open",[],sessionStorage),y=A(()=>b(r.value)),b=s=>s.map(t=>{let n={key:(t==null?void 0:t.id)||"",...t};return n.icon&&(n.icon=J(N[n.icon])),t.children&&(n.children=b(t.children)),n}),v=(s,t)=>{for(let n=0;n<t.length;n++){const l=t[n];if(l.address===s)return l.id;if(l.children){const k=v(s,l.children);if(k)return k}}};H(()=>u.path,()=>{const s=v(u.path,r.value);s&&(a.value=[s])},{immediate:!0});const w=({item:s})=>{const{originItemValue:t}=s;te(t)};return(s,t)=>{const n=j;return h(),x(n,Q(s.$attrs,{items:y.value,theme:e(m).menuTheme,onSelect:w,openKeys:e(d),"onUpdate:openKeys":t[0]||(t[0]=l=>O(d)?d.value=l:null),selectedKeys:e(a),"onUpdate:selectedKeys":t[1]||(t[1]=l=>O(a)?a.value=l:null)}),null,16,["items","theme","openKeys","selectedKeys"])}}}),se={class:"logo"},oe=["src"],ne=K({__name:"LayoutLogo",setup(g){D(a=>({"1bb352f7":e(o).headerFontColor,c6ebacfe:e(o).headerBgColor}));const u=L(),{themeCfg:o,collapsed:r}=B(u),{onToggleCollapsed:m}=u;return(a,d)=>(h(),I("div",se,[p("img",{src:e(o).logo,alt:""},null,8,oe),Z(p("span",{class:"title"},_(e(o).projectName),513),[[ee,!e(r)]]),e(r)?(h(),x(e(U),{key:0,class:"trigger",onClick:e(m)},null,8,["onClick"])):(h(),x(e($),{key:1,class:"trigger",onClick:e(m)},null,8,["onClick"]))]))}}),ye=T(ne,[["__scopeId","data-v-a98263ca"]]),ae={class:"layout-opt"},re={class:"layout-opt-userinfo"},le=["src"],ie={class:"layout-opt-userinfo-name"},ce=K({__name:"LayoutOpt",setup(g){D(w=>({"3be1782c":e(m).headerFontColor,"18fa17f6":e(m).headerBgColor}));const u=G(),o=L(),{local:r,themeCfg:m,userInfo:a}=B(o),{onOpenConfigDrawer:d,onToggleLocal:y}=o,b=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},v=()=>{V.remove(),u.push({path:"/login"})};return(w,s)=>{const t=z,n=P,l=W,k=X,R=Y;return h(),I("div",ae,[p("div",{class:"layout-opt-i18n",onClick:s[0]||(s[0]=(...S)=>e(y)&&e(y)(...S))},[i(t,{ghost:"",size:"small"},{default:c(()=>[f(_(e(r)=="en"?"中文":"English"),1)]),_:1})]),p("div",{class:"layout-opt-theme",onClick:s[1]||(s[1]=(...S)=>e(d)&&e(d)(...S))},[i(e(q))]),p("div",{class:"layout-opt-github",onClick:b},[i(e(E))]),p("div",re,[i(R,{placement:"bottomRight"},{content:c(()=>[i(t,{onClick:v,block:""},{default:c(()=>[f(" 退出 ")]),_:1})]),title:c(()=>[i(l,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:c(()=>[i(n,{label:"姓名"},{default:c(()=>[f(_(e(a).name),1)]),_:1}),i(n,{label:"用户名"},{default:c(()=>[f(_(e(a).username),1)]),_:1}),i(n,{label:"邮箱"},{default:c(()=>[f(_(e(a).email),1)]),_:1})]),_:1})]),default:c(()=>[i(k,null,{icon:c(()=>[p("img",{src:e(a).avatar||"",alt:""},null,8,le)]),_:1}),p("span",ie,_(e(a).name),1)]),_:1})])])}}}),be=T(ce,[["__scopeId","data-v-59d51c61"]]);export{ye as L,ge as _,be as a};
