import{m as be,p as _e,_ as C,d as k,g,x as K,r as xe,z as ae,t as re,k as Se,u as Ce,s as A,w as F,b as ke,F as $e,e as Z,bz as J,bA as Q,i as Y,P as x,bn as ee,cD as T,cE as we,H as j,I as U,cF as te,aa as Le,J as B,U as W,al as Be,Q as s,an as oe,aq as se,L as ie,a2 as S,h as He,v as Te,X as w,a6 as le,au as Oe,M as _,O as L,cz as ze,Z as Ie}from"./index-CRj_7lJZ.js";import{S as de,b as Me,M as Ee}from"./index-DsARZda4.js";import{i as Re}from"./LayoutView-CAmknw1r.js";import{B as De,i as Ae,M as Ne,a as Pe,S as Fe,G as We}from"./index-Kvx84V_1.js";import{D as Ke,a as je}from"./index-VMxlQLlB.js";import{A as Ue}from"./index-DRLIVu7b.js";import{_ as Ge}from"./index-SlHCHxj4.js";const Ve=e=>{const{componentCls:a,colorBgContainer:o,colorBgBody:l,colorText:i}=e;return{[`${a}-sider-light`]:{background:o,[`${a}-sider-trigger`]:{color:i,background:o},[`${a}-sider-zero-width-trigger`]:{color:i,background:o,border:`1px solid ${l}`,borderInlineStart:0}}}},Xe=e=>{const{antCls:a,componentCls:o,colorText:l,colorTextLightSolid:i,colorBgHeader:d,colorBgBody:c,colorBgTrigger:p,layoutHeaderHeight:m,layoutHeaderPaddingInline:y,layoutHeaderColor:v,layoutFooterPadding:t,layoutTriggerHeight:n,layoutZeroTriggerSize:u,motionDurationMid:h,motionDurationSlow:r,fontSize:b,borderRadius:f}=e;return{[o]:C(C({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:c,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},[`${o}-header`]:{height:m,paddingInline:y,color:v,lineHeight:`${m}px`,background:d,[`${a}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:t,color:l,fontSize:b,background:c},[`${o}-content`]:{flex:"auto",minHeight:0},[`${o}-sider`]:{position:"relative",minWidth:0,background:d,transition:`all ${h}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${a}-menu${a}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:n},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:n,color:i,lineHeight:`${n}px`,textAlign:"center",background:p,cursor:"pointer",transition:`all ${h}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:m,insetInlineEnd:-u,zIndex:1,width:u,height:u,color:i,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:d,borderStartStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f,borderEndStartRadius:0,cursor:"pointer",transition:`background ${r} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${r}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-u,borderStartStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:f}}}}},Ve(e)),{"&-rtl":{direction:"rtl"}})}},qe=be("Layout",e=>{const{colorText:a,controlHeightSM:o,controlHeight:l,controlHeightLG:i,marginXXS:d}=e,c=i*1.25,p=_e(e,{layoutHeaderHeight:l*2,layoutHeaderPaddingInline:c,layoutHeaderColor:a,layoutFooterPadding:`${o}px ${c}px`,layoutTriggerHeight:i+d*2,layoutZeroTriggerSize:i});return[Xe(p)]},e=>{const{colorBgLayout:a}=e;return{colorBgHeader:"#001529",colorBgBody:a,colorBgTrigger:"#002140"}}),G=()=>({prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String});function M(e){let{suffixCls:a,tagName:o,name:l}=e;return i=>k({compatConfig:{MODE:3},name:l,props:G(),setup(c,p){let{slots:m}=p;const{prefixCls:y}=K(a,c);return()=>{const v=C(C({},c),{prefixCls:y.value,tagName:o});return g(i,v,m)}}})}const V=k({compatConfig:{MODE:3},props:G(),setup(e,a){let{slots:o}=a;return()=>g(e.tagName,{class:e.prefixCls},o)}}),Ze=k({compatConfig:{MODE:3},inheritAttrs:!1,props:G(),setup(e,a){let{slots:o,attrs:l}=a;const{prefixCls:i,direction:d}=K("",e),[c,p]=qe(i),m=xe([]);ae(de,{addSider:t=>{m.value=[...m.value,t]},removeSider:t=>{m.value=m.value.filter(n=>n!==t)}});const v=re(()=>{const{prefixCls:t,hasSider:n}=e;return{[p.value]:!0,[`${t}`]:!0,[`${t}-has-sider`]:typeof n=="boolean"?n:m.value.length>0,[`${t}-rtl`]:d.value==="rtl"}});return()=>{const{tagName:t}=e;return c(g(t,C(C({},l),{class:[v.value,l.class]}),o))}}}),N=M({suffixCls:"layout",tagName:"section",name:"ALayout"})(Ze),O=M({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(V),P=M({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(V),z=M({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(V),ne={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},Je=()=>({prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:x.any,width:x.oneOfType([x.number,x.string]),collapsedWidth:x.oneOfType([x.number,x.string]),breakpoint:x.oneOf(ee("xs","sm","md","lg","xl","xxl","xxxl")),theme:x.oneOf(ee("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}),Qe=(()=>{let e=0;return function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${a}${e}`}})(),I=k({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:Se(Je(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup(e,a){let{emit:o,attrs:l,slots:i}=a;const{prefixCls:d}=K("layout-sider",e),c=Ce(de,void 0),p=A(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),m=A(!1);F(()=>e.collapsed,()=>{p.value=!!e.collapsed}),ae(Me,p);const y=(r,b)=>{e.collapsed===void 0&&(p.value=r),o("update:collapsed",r),o("collapse",r,b)},v=A(r=>{m.value=r.matches,o("breakpoint",r.matches),p.value!==r.matches&&y(r.matches,"responsive")});let t;function n(r){return v.value(r)}const u=Qe("ant-sider-");c&&c.addSider(u),ke(()=>{F(()=>e.breakpoint,()=>{try{t==null||t.removeEventListener("change",n)}catch{t==null||t.removeListener(n)}if(typeof window<"u"){const{matchMedia:r}=window;if(r&&e.breakpoint&&e.breakpoint in ne){t=r(`(max-width: ${ne[e.breakpoint]})`);try{t.addEventListener("change",n)}catch{t.addListener(n)}n(t)}}},{immediate:!0})}),$e(()=>{try{t==null||t.removeEventListener("change",n)}catch{t==null||t.removeListener(n)}c&&c.removeSider(u)});const h=()=>{y(!p.value,"clickTrigger")};return()=>{var r,b;const f=d.value,{collapsedWidth:X,width:ce,reverseArrow:E,zeroWidthTriggerStyle:ue,trigger:H=(r=i.trigger)===null||r===void 0?void 0:r.call(i),collapsible:q,theme:ge}=e,R=p.value?X:ce,$=Re(R)?`${R}px`:String(R),D=parseFloat(String(X||0))===0?g("span",{onClick:h,class:Z(`${f}-zero-width-trigger`,`${f}-zero-width-trigger-${E?"right":"left"}`),style:ue},[H||g(De,null,null)]):null,pe={expanded:E?g(J,null,null):g(Q,null,null),collapsed:E?g(Q,null,null):g(J,null,null)},me=p.value?"collapsed":"expanded",fe=pe[me],he=H!==null?D||g("div",{class:`${f}-trigger`,onClick:h,style:{width:$}},[H||fe]):null,ye=[l.style,{flex:`0 0 ${$}`,maxWidth:$,minWidth:$,width:$}],ve=Z(f,`${f}-${ge}`,{[`${f}-collapsed`]:!!p.value,[`${f}-has-trigger`]:q&&H!==null&&!D,[`${f}-below`]:!!m.value,[`${f}-zero-width`]:parseFloat($)===0},l.class);return g("aside",Y(Y({},l),{},{class:ve,style:ye}),[g("div",{class:`${f}-children`},[(b=i.default)===null||b===void 0?void 0:b.call(i)]),q||m.value&&D?he:null])}}}),ft=O,ht=I,yt=z,vt=C(N,{Header:O,Footer:P,Content:z,Sider:I,install:e=>(e.component(N.name,N),e.component(O.name,O),e.component(P.name,P),e.component(I.name,I),e.component(z.name,z),e)}),Ye=e=>{const{type:a,address:o,openType:l}=e;switch(a){case"front":l=="_self"?T.push({path:o}):l=="_blank"&&window.open(o,"_blank");break;case"page":break;case"form":T.push({path:"/preview/form",query:{id:o}});break;case"table":T.push({path:"/preview/table",query:{id:o}});break;case"iframe":T.push({path:"/preview/iframe",query:{id:encodeURIComponent(o)}});break}},bt=k({__name:"LayoutMenu",setup(e){const a=we(),o=j(),{menuTree:l,themeCfg:i}=U(o),d=te("gaius-admin-menu-selected",[],sessionStorage),c=te("gaius-admin-menu-open",[],sessionStorage),p=re(()=>m(l.value)),m=t=>t.map(n=>{let u={key:(n==null?void 0:n.id)||"",...n};return u.icon&&(u.icon=Le(Ae[u.icon])),n.children&&(u.children=m(n.children)),u}),y=(t,n)=>{for(let u=0;u<n.length;u++){const h=n[u];if(h.address===t)return h.id;if(h.children){const r=y(t,h.children);if(r)return r}}};F(()=>a.path,()=>{const t=y(a.path,l.value);t&&(d.value=[t])},{immediate:!0});const v=({item:t})=>{const{originItemValue:n}=t;Ye(n)};return(t,n)=>{const u=Ee;return B(),W(u,Be(t.$attrs,{items:p.value,theme:s(i).menuTheme,onSelect:v,openKeys:s(c),"onUpdate:openKeys":n[0]||(n[0]=h=>oe(c)?c.value=h:null),selectedKeys:s(d),"onUpdate:selectedKeys":n[1]||(n[1]=h=>oe(d)?d.value=h:null)}),null,16,["items","theme","openKeys","selectedKeys"])}}}),et={class:"logo"},tt=["src"],ot=k({__name:"LayoutLogo",setup(e){se(d=>({"1bb352f7":s(o).headerFontColor,c6ebacfe:s(o).headerBgColor}));const a=j(),{themeCfg:o,collapsed:l}=U(a),{onToggleCollapsed:i}=a;return(d,c)=>(B(),ie("div",et,[S("img",{src:s(o).logo,alt:""},null,8,tt),He(S("span",{class:"title"},w(s(o).projectName),513),[[Te,!s(l)]]),s(l)?(B(),W(s(Ne),{key:0,class:"trigger",onClick:s(i)},null,8,["onClick"])):(B(),W(s(Pe),{key:1,class:"trigger",onClick:s(i)},null,8,["onClick"]))]))}}),_t=le(ot,[["__scopeId","data-v-a98263ca"]]),nt={class:"layout-opt"},at={class:"layout-opt-userinfo"},rt=["src"],st={class:"layout-opt-userinfo-name"},it=k({__name:"LayoutOpt",setup(e){se(v=>({"3be1782c":s(i).headerFontColor,"18fa17f6":s(i).headerBgColor}));const a=Oe(),o=j(),{local:l,themeCfg:i,userInfo:d}=U(o),{onOpenConfigDrawer:c,onToggleLocal:p}=o,m=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},y=()=>{ze.remove(),a.push({path:"/login"})};return(v,t)=>{const n=Ie,u=Ke,h=je,r=Ue,b=Ge;return B(),ie("div",nt,[S("div",{class:"layout-opt-i18n",onClick:t[0]||(t[0]=(...f)=>s(p)&&s(p)(...f))},[g(n,{ghost:"",size:"small"},{default:_(()=>[L(w(s(l)=="en"?"中文":"English"),1)]),_:1})]),S("div",{class:"layout-opt-theme",onClick:t[1]||(t[1]=(...f)=>s(c)&&s(c)(...f))},[g(s(Fe))]),S("div",{class:"layout-opt-github",onClick:m},[g(s(We))]),S("div",at,[g(b,{placement:"bottomRight"},{content:_(()=>[g(n,{onClick:y,block:""},{default:_(()=>[L(" 退出 ")]),_:1})]),title:_(()=>[g(h,{title:"用户信息",size:"small",column:1,style:{width:"200px"}},{default:_(()=>[g(u,{label:"姓名"},{default:_(()=>[L(w(s(d).name),1)]),_:1}),g(u,{label:"用户名"},{default:_(()=>[L(w(s(d).username),1)]),_:1}),g(u,{label:"邮箱"},{default:_(()=>[L(w(s(d).email),1)]),_:1})]),_:1})]),default:_(()=>[g(r,null,{icon:_(()=>[S("img",{src:s(d).avatar||"",alt:""},null,8,rt)]),_:1}),S("span",st,w(s(d).name),1)]),_:1})])])}}}),xt=le(it,[["__scopeId","data-v-59d51c61"]]);export{_t as L,bt as _,xt as a,ft as b,ht as c,yt as d,vt as e};
