import{a8 as y,a9 as S,d as C,G as x,H as V,a1 as F,aF as I,r as L,b as q,D as B,E as U,V as r,U as k,K as _,g as t,J as s,aD as M,bv as N,S as R,a5 as T,a6 as D,F as H}from"./index-5uVo7gFH.js";import{F as j,I as E,_ as A,a as G,B as J}from"./index-CpuAoWon.js";const m={login:o=>y({method:"post",url:"/auth/login",data:o}),getCaptcha:()=>S({baseURL:"/prod",method:"get",url:"/auth/captcha"})},K=o=>(T("data-v-0bb1aa67"),o=o(),D(),o),P={class:"login"},$={class:"login-left"},z={class:"project-title"},O={class:"login-right"},Q={class:"login-right-form"},W=K(()=>r("div",{class:"form-title"},"用户登录",-1)),X=["innerHTML"],Y=C({__name:"LoginView",setup(o){M(l=>({a213418c:_(i).colorPrimary}));const h=x(),{themeCfg:i}=V(h),a=F({username:"",password:"",captcha:""}),g=I(),f=()=>{m.login(a).then(l=>{const{code:e,data:u}=l;e==200&&(N.set(u),g.push("/home"))})},p=L(""),d=async()=>{const{data:l}=await m.getCaptcha();p.value=l};return q(()=>{d()}),(l,e)=>{const u=E,c=A,v=G,b=J,w=j;return B(),U("div",P,[r("div",$,[r("div",z,k(_(i).projectName),1)]),r("div",O,[r("div",Q,[W,t(w,{model:a,"label-col":{span:8},hideRequiredMark:"",onFinish:f},{default:s(()=>[t(c,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入账号"}]},{default:s(()=>[t(u,{value:a.username,"onUpdate:value":e[0]||(e[0]=n=>a.username=n)},null,8,["value"])]),_:1}),t(c,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:s(()=>[t(v,{value:a.password,"onUpdate:value":e[1]||(e[1]=n=>a.password=n)},null,8,["value"])]),_:1}),t(c,{label:"验证码",name:"captcha",rules:[{required:!0,message:"请输入验证码"}]},{default:s(()=>[t(u,{value:a.captcha,"onUpdate:value":e[3]||(e[3]=n=>a.captcha=n)},{addonAfter:s(()=>[r("div",{innerHTML:p.value,onClick:e[2]||(e[2]=n=>d()),style:{height:"100%"}},null,8,X)]),_:1},8,["value"])]),_:1}),t(c,{"wrapper-col":{offset:8,span:16}},{default:s(()=>[t(b,{type:"primary","html-type":"submit",style:{width:"100%"}},{default:s(()=>[R(" 登录 ")]),_:1})]),_:1})]),_:1},8,["model"])])])])}}}),te=H(Y,[["__scopeId","data-v-0bb1aa67"]]);export{te as default};
