import{a3 as r,aK as T,d as U,W as N,X as O,au as R,p as i,D as d,E as p,F as m,U as v,I as A,g as _,G as f,M as D,Z as F,V as P}from"./index-BKVUJ49Y.js";import{P as h,M as S}from"./PlusCircleOutlined-BC5BVVy0.js";import{I as $,B as j}from"./index-BHY8-qA4.js";import{S as w}from"./index-C6L_XfkU.js";import{_ as z}from"./index-BjNiSnK7.js";const J={getList:e=>r({method:"get",url:"request/list",params:e}),getDetail:e=>r({method:"get",url:"request/detail",params:{id:e}}),remove:e=>r({method:"get",url:"request/remove",params:{id:e}}),add:e=>r({method:"post",url:"request/add",data:e}),update:e=>r({method:"post",url:"request/update",data:e}),run:(e,o)=>T({method:"get",url:"/prod/request/proxy",params:{id:e,paramsData:o}})},G={key:2,style:{display:"flex"}},K=U({__name:"EditTable",props:N({columns:{},action:{type:Boolean,default:!0},height:{default:150}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const o=O(e,"modelValue");let C=e;const{columns:s,action:g}=R(C),y=i(()=>x("input")),k=i(()=>x("select")),b=i(()=>g.value?[...s.value,{title:"操作",dataIndex:"_action_"}]:s.value),q=a=>{var t;return((t=s.value.find(c=>c.dataIndex==a))==null?void 0:t.options)||[]},x=a=>s.value.filter(t=>t.type==a).map(t=>t.dataIndex),I=()=>{let a={};s.value.map(t=>{Reflect.set(a,t.dataIndex,"")}),o.value.push(a)},B=a=>{o.value.splice(a,1)};return(a,t)=>{const c=$,V=w,M=j,E=z;return d(),p(E,{columns:b.value,"data-source":o.value,pagination:!1,size:"small",scroll:{y:a.height}},{bodyCell:m(({column:n,index:l})=>[y.value.includes(n.dataIndex)?(d(),p(c,{key:0,value:o.value[l][n.dataIndex],"onUpdate:value":u=>o.value[l][n.dataIndex]=u},null,8,["value","onUpdate:value"])):v("",!0),k.value.includes(n.dataIndex)?(d(),p(V,{key:1,value:o.value[l][n.dataIndex],"onUpdate:value":u=>o.value[l][n.dataIndex]=u,options:q(n.dataIndex)},null,8,["value","onUpdate:value","options"])):v("",!0),n.dataIndex=="_action_"?(d(),A("div",G,[_(f(h),{class:"icon",onClick:t[0]||(t[0]=u=>I())}),_(f(S),{class:"icon",onClick:u=>B(l)},null,8,["onClick"])])):v("",!0)]),emptyText:m(()=>[_(M,{type:"text",onClick:I,icon:F(f(h))},{default:m(()=>[D(" 新增数据")]),_:1},8,["icon"])]),_:1},8,["columns","data-source","scroll"])}}}),Q=P(K,[["__scopeId","data-v-c3ff7b42"]]);export{Q as E,J as h};
