import{u as S,j as U,_ as M,e as q}from"./index-CfwTnm9W.js";import{g as B,bj as z,s as K,u as $,L as T,ai as E,p as J,o as p,i as I,C as A,j as e,ax as N,bk as X,aE as R,q as x,P as l,X as H,a$ as Q,R as c,bl as W,bm as Y,aK as Z,l as o,w as s,F as ee,y as te,bn as oe,bo as se,bp as ne,J as _,aJ as ae,bq as le,br as ie,a2 as ce,as as ue,at as re,bs as de}from"./.pnpm-DZa05fHr.js";const _e=B({__name:"LayoutMenu",setup(O){const m=z(),g=S(),{menuTree:h,themeCfg:v}=K(g),u=$("gaius-admin-menu-selected",[],sessionStorage),n=$("gaius-admin-menu-open",[],sessionStorage),k=T(()=>C(h.value)),C=i=>i.map(t=>{let a={key:(t==null?void 0:t.id)||"",...t};return a.icon&&(a.icon=E("span",{class:`iconfont icon-${a.icon}`})),t.children&&(a.children=C(t.children)),a}),y=(i,t)=>{for(let a=0;a<t.length;a++){const r=t[a];if(r.address===i)return r.id;if(r.children){const b=y(i,r.children);if(b)return b}}};J(()=>m.path,()=>{const i=y(m.path,h.value);i&&(u.value=[i])},{immediate:!0});const w=({item:i})=>{const{originItemValue:t}=i;U(t)};return(i,t)=>{const a=X;return p(),I(a,A(i.$attrs,{items:k.value,theme:e(v).menuTheme,onSelect:w,openKeys:e(n),"onUpdate:openKeys":t[0]||(t[0]=r=>N(n)?n.value=r:null),selectedKeys:e(u),"onUpdate:selectedKeys":t[1]||(t[1]=r=>N(u)?u.value=r:null),style:{height:"100%","overflow-y":"auto"},class:"gaius-menu"}),null,16,["items","theme","openKeys","selectedKeys"])}}}),Ke=M(_e,[["__scopeId","data-v-a976a1d0"]]),pe={class:"logo"},me=["src"],fe=B({__name:"LayoutLogo",setup(O){R(n=>({"2c5c8f8c":e(g).headerFontColor,32770384:e(g).headerBgColor}));const m=S(),{themeCfg:g,collapsed:h,systemSetting:v}=K(m),{onToggleCollapsed:u}=m;return(n,k)=>(p(),x("div",pe,[l("img",{src:e(v).projectLogo,alt:""},null,8,me),H(l("span",{class:"title"},c(e(v).projectName),513),[[Q,!e(h)]]),e(h)?(p(),I(e(W),{key:0,class:"trigger",onClick:e(u)},null,8,["onClick"])):(p(),I(e(Y),{key:1,class:"trigger",onClick:e(u)},null,8,["onClick"]))]))}}),Oe=M(fe,[["__scopeId","data-v-b6204024"]]),ge={class:"layout-opt"},he={class:"layout-opt-notice",title:"通知"},ye={class:"content",style:{display:"flex","flex-direction":"column"}},be={key:0,class:"notice-list",style:{padding:"0 5px"}},ve={class:"title",style:{"font-size":"14px","font-weight":"bold"}},xe=["title"],ke={style:{flex:"1","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Ce={class:"layout-opt-userinfo",title:"用户信息"},we=["src"],Le={class:"layout-opt-userinfo-name"},Ie=B({__name:"LayoutOpt",setup(O){R(b=>({"2a168f40":e(u).headerFontColor,"65f1e40a":e(u).headerBgColor}));const m=Z(),g=S(),h=T(()=>C.value.map(b=>b.roleName).join(",")),{local:v,themeCfg:u,userInfo:n,orgInfo:k,roleInfo:C,noticeInfo:y}=K(g),{onOpenConfigDrawer:w,onToggleLocal:i}=g,t=()=>{window.open("https://github.com/Gaius-98/gaius-admin","_blank")},a=()=>{q.remove(),m.push({path:"/login"})},r=()=>{m.push({path:"/system/notice-message"})};return(b,L)=>{const D=ae,F=le,j=ie,P=ce,f=ue,V=re,G=de;return p(),x("div",ge,[l("div",he,[o(j,{title:"通知",trigger:"click"},{content:s(()=>[l("div",ye,[e(y)&&e(y).list.length>0?(p(),x("div",be,[(p(!0),x(ee,null,te(e(y).list,d=>(p(),x("div",{key:d.id,style:{display:"flex","flex-direction":"column","justify-items":"flex-start","border-bottom":"1px solid rgba(5, 5, 5, 0.06)",padding:"5px",width:"200px"}},[l("div",ve,c(d.notice.title),1),l("div",{class:"content",title:d.notice.content,style:{display:"flex",width:"100%"}},[l("div",ke,c(d.notice.content),1),l("a",{style:{width:"50px","text-decoration":"underline"},onClick:L[0]||(L[0]=Se=>r())},"查看 ")],8,xe)]))),128))])):(p(),I(D,{key:1}))])]),default:s(()=>[o(F,{count:e(y).total,"overflow-count":3,class:"badge"},null,8,["count"]),o(e(oe))]),_:1})]),l("div",{class:"layout-opt-theme",onClick:L[1]||(L[1]=(...d)=>e(w)&&e(w)(...d)),title:"主题配置"},[o(e(se))]),l("div",{class:"layout-opt-github",onClick:t,title:"github"},[o(e(ne))]),l("div",Ce,[o(j,{placement:"bottomRight"},{content:s(()=>[o(P,{onClick:a,block:""},{default:s(()=>[_(" 退出 ")]),_:1})]),title:s(()=>[o(V,{title:"用户信息",size:"small",column:2,style:{width:"400px"}},{default:s(()=>[o(f,{label:"姓名"},{default:s(()=>[_(c(e(n).name),1)]),_:1}),o(f,{label:"用户名"},{default:s(()=>[_(c(e(n).username),1)]),_:1}),o(f,{label:"邮箱"},{default:s(()=>[_(c(e(n).email),1)]),_:1}),o(f,{label:"手机"},{default:s(()=>[_(c(e(n).phone),1)]),_:1}),o(f,{label:"角色"},{default:s(()=>[_(c(h.value),1)]),_:1}),o(f,{label:"所属机构"},{default:s(()=>{var d;return[_(c((d=e(k))==null?void 0:d.name),1)]}),_:1}),o(f,{label:"上次登录IP",span:2},{default:s(()=>[_(c(e(n).lastLoginIp),1)]),_:1}),o(f,{label:"登录IP",span:2},{default:s(()=>[_(c(e(n).loginIp),1)]),_:1})]),_:1})]),default:s(()=>[o(G,null,{icon:s(()=>[l("img",{src:e(n).avatar||"",alt:""},null,8,we)]),_:1}),l("span",Le,c(e(n).name),1)]),_:1})])])}}}),je=M(Ie,[["__scopeId","data-v-4675c306"]]);export{Oe as L,je as a,Ke as b};
